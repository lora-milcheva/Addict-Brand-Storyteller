{"version":3,"sources":["serviceWorker.js","services/requester.js","services/auth/authService.js","services/categories/categoriesService.js","constants/constants.js","components/common/languagesContext/LanguageContext.jsx","components/common/Header.jsx","components/common/Footer.jsx","components/routes/PrivateRoute.jsx","components/common/Notifications.jsx","components/auth/Login.jsx","components/user/home/partials/Carousel.jsx","components/user/common/HomeProjectCard.jsx","services/projects/projectsService.jsx","services/clients/clientsService.js","components/user/home/Home.jsx","components/user/common/ProjectCard.jsx","components/user/projects/ProjectsList.jsx","components/user/projects/partials/GalleryPreview.jsx","components/user/projects/Project.jsx","components/common/formComponents/FormInput.jsx","components/common/formComponents/FormSelectField.jsx","components/common/formComponents/TextArea.jsx","components/common/formComponents/AddOnInput.jsx","components/admin/projects/createEditProject/partials/SortableList.jsx","components/common/ConfirmDialog.jsx","utils/utils.js","components/admin/projects/createEditProject/createEditProject.jsx","components/admin/projects/projectsList/partials/ProjectCard.jsx","components/admin/projects/projectsList/projectsList.jsx","components/admin/categories/createEditCategory.jsx","components/admin/categories/categoriesList.jsx","components/admin/clients/createEditClient.jsx","components/admin/clients/clientsList.jsx","components/errors/NotFound.jsx","components/routes/Routes.jsx","App.js","index.js"],"names":["Boolean","window","location","hostname","match","baseUrl","appKey","requester","auth","module","endPoint","query","url","undefined","$","ajax","type","headers","createHeader","data","JSON","stringify","Authorization","btoa","Content-type","sessionStorage","getItem","authService","register","userInfo","login","loginAnonymousUser","username","password","saveSession","setItem","_kmd","authtoken","roles","length","roleId","logout","clearSession","clear","checkUser","categoriesService","createCategory","state","project","createCategoryInfo","loadAllCategories","loadCategoryData","id","editCategory","endPointId","name","LANGUAGES","bg","en","MENU","projects","contact","clients","categories","CREATE_PROJECT_INPUTS","description","client","year","webPage","isStar","category","thumbnail","images","videos","CATEGORY_INPUTS","CLIENT_INPUTS","BUTTONS","create","edit","delete","cancel","view","confirm","close","newProject","newClient","newCategory","CONFIRM_DIALOG_MESSAGES","confirmDeleteProject","NOTIFICATIONS","projectCreated","projectDeleted","categoryCreated","categoryDeleted","clientCreated","clientDeleted","successEdit","ADMIN_PAGES_TEXT","editProject","createProject","allProjects","editClient","createClient","allClients","allCategories","USER_PAGES_TEXT","otherProjects","languages","LanguageContext","React","createContext","HeaderC","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","loadCategories","then","res","setState","catch","err","console","log","getLanguage","pathname","split","filter","e","context","updateLanguage","changeRouteByLanguage","pathArray","language","subStr","substring","history","push","reload","_this2","admin","lang","react_default","a","createElement","NavLink","to","className","activeClassName","exact","onClick","link","map","key","_id","Link","value","Component","Header","withRouter","WrappedComponent","contextType","Footer","Notifications","showMessage","message","document","addEventListener","handleKeyPress","visible","hideMessage","removeEventListener","onRef","isVisible","Login","handleChange","defineProperty","target","preventDefault","_this$state","trim","makeLoginRequest","notifications","clearForm","path","setTimeout","responseJSON","common_Notifications","ref","method","onSubmit","htmlFor","placeholder","onChange","Carousel","src","alt","HomeProjectCard","activeLanguage","clientName","projectsService","createProjectInfo","loadAllProjects","loadProjectData","getProjectsCount","deleteProject","clientId","categoryIds","clientsService","loadAllClients","loadClientData","Home","loadStarProjects","forEach","p","c","loading","removeItem","common_HomeProjectCard","partials_Carousel","ProjectCard","_this$props","pathLang","linkPath","ProjectList","loadAllData","getCategoryId","loadProjects","selectedCategoryId","categoryId","concat","saveProjectsInSession","categoryName","params","catId","projectIds","nextProps","_this3","i","common_ProjectCard","GalleryPreview","showNextImage","allImages","image","current","nextImageIndex","indexOf","fadeOut","fadeIn","showPrevImage","prevImageIndex","el","requestAnimationFrame","style","transition","opacity","createRef","onClose","Project","projectId","setIndexes","filteredProjectIds","parse","currentProjectIndex","nextProjectId","prevProjectId","loadProject","loadRandomProjects","randomNumber","Math","floor","random","includes","randomProjects","toConsumableArray","showPreview","selectedImage","hidePreview","_this4","gallery","partials_GalleryPreview","aria-hidden","FormInput","label","required","disabled","step","min","max","FormSelectField","options","selected","optionElements","defaultValue","TextArea","AddOnInput","submit","buttonText","labelClassName","SortableList","onDragOver","onDragStart","element","startX","clientX","startY","clientY","elementIndex","elements","dataContainer","children","dataTransfer","setData","onDrop","stepX","stepY","container","imageWidth","clientWidth","imageHeight","clientHeight","imagesOnRow","getData","imageIndex","Number","round","newIndex","reorderedElements","splice","index","draggable","onDelete","ConfirmDialog","callback","function","months","0","1","2","3","4","5","6","7","8","9","10","11","utils","calculatePriceAfterDiscount","price","discount","formatDate","inputDate","date","Date","years","getFullYear","getMonth","day","getDate","slice","formatDateAndTime","hours","getHours","minutes","getMinutes","formatDateYearFirst","getDay","getYear","getVideoDescription","input","subString","indexOfDescriptionFirstLetter","join","substr","createStateCopy","component","lng","loadInputsData","dataLoaded","handleInputChange","handleCheckBoxChange","handleMultiLangChange","stateProp","assign","handleArrChange","handleNewOrder","saveProject","Utils","go","confirmDelete","confirmDialog","projectLoaded","imagesContainer","projectClientId","title","video","classList","common_ConfirmDialog","formComponents_FormInput","formComponents_TextArea","formComponents_FormSelectField","formComponents_AddOnInput","partials_SortableList","projectsList","partials_ProjectCard","createEditCategory","clearData","saveCategory","deleteCategory","categoriesList","projectLoading","saveClient","deleteClient","NotFound","Routes","Switch","Route","ProjectsList","render","_ref","Fragment","adminProjectsList","clientsList","createEditClient","App","isHomePage","Provider","common_Header","routes_Routes","common_Footer","ReactDOM","BrowserRouter","src_App","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.ec32ee84.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import $ from 'jquery';\r\n\r\nconst baseUrl = 'https://baas.kinvey.com';\r\nconst appKey = 'kid_HJ46HdBCm';  // APP KEY HERE;\r\nconst appSecret = '0d8a90c423d84f79aa9d89c75a1ebdb1';  // APP SECRET HERE;\r\n\r\nexport default {\r\n\r\n\tget: (auth, module, endPoint, query) => {\r\n\r\n\t\tlet url = query !== undefined\r\n\t\t\t? baseUrl + '/' + module + '/' + appKey + '/' + endPoint + query\r\n\t\t\t: baseUrl + '/' + module + '/' + appKey + '/' + endPoint;\r\n\r\n\t\treturn $.ajax(\r\n\t\t\t{\r\n\t\t\t\turl: url,\r\n\t\t\t\ttype: 'GET',\r\n\t\t\t\theaders: createHeader(auth)\r\n\t\t\t});\r\n\t},\r\n\r\n\tpost: (auth, module, endPoint, data) => {\r\n\r\n\t\tlet url = baseUrl + '/' + module + '/' + appKey + '/' + endPoint;\r\n\r\n\t\treturn $.ajax(\r\n\t\t\t{\r\n\t\t\t\turl: url,\r\n\t\t\t\ttype: 'POST',\r\n\t\t\t\theaders: createHeader(auth),\r\n\t\t\t\tdata: JSON.stringify(data)\r\n\t\t\t});\r\n\t},\r\n\r\n\tput: (auth, module, endPoint, data) => {\r\n\r\n\t\tlet url = baseUrl + '/' + module + '/' + appKey + '/' + endPoint;\r\n\r\n\t\treturn $.ajax(\r\n\t\t\t{\r\n\t\t\t\turl: url,\r\n\t\t\t\ttype: 'PUT',\r\n\t\t\t\theaders: createHeader(auth),\r\n\t\t\t\tdata: JSON.stringify(data)\r\n\t\t\t});\r\n\t},\r\n\r\n\tremove: (auth, module, endPoint,) => {\r\n\r\n\t\tlet url = baseUrl + '/' + module + '/' + appKey + '/' + endPoint;\r\n\r\n\t\treturn $.ajax(\r\n\t\t\t{\r\n\t\t\t\turl: url,\r\n\t\t\t\ttype: 'DELETE',\r\n\t\t\t\theaders: createHeader(auth)\r\n\t\t\t});\r\n\t}\r\n};\r\n\r\nlet createHeader = (auth) => {\r\n\treturn auth === 'basicAuth'\r\n\t\t? {\r\n\t\t\t'Authorization': 'Basic ' + btoa(appKey + ':' + appSecret),\r\n\t\t\t'Content-type': 'application/json'\r\n\t\t}\r\n\t\t: {\r\n\t\t\t'Authorization': 'Kinvey ' + sessionStorage.getItem('authtoken'),\r\n\t\t\t'Content-type': 'application/json'\r\n\t\t};\r\n};","import requester from '../requester';\r\n\r\nconst module = 'user';\r\nconst basicAuth = 'basicAuth';\r\nconst sessionAuth = 'sessionAuth';\r\n\r\n\r\nexport default {\r\n\r\n\tregister: (userInfo) => {\r\n\t\treturn requester\r\n\t\t\t.get(basicAuth, module, null, userInfo);\r\n\t},\r\n\r\n\r\n\tlogin: (userInfo) => {\r\n\r\n\t\tlet endpoint = 'login';\r\n\r\n\t\treturn requester\r\n\t\t\t.post(basicAuth, module, endpoint, userInfo )\r\n\t},\r\n\r\n\tloginAnonymousUser: () => {\r\n\r\n\t\tlet anonymousUser = {\r\n\t\t\tusername: 'anonymous',\r\n\t\t\tpassword: '123456'\r\n\t\t};\r\n\r\n\t\tlet endpoint = 'login';\r\n\r\n\t\treturn requester\r\n\t\t\t.post(basicAuth, module, endpoint, anonymousUser )\r\n\r\n\t},\r\n\r\n\tsaveSession: (data) => {\r\n\t\tsessionStorage.setItem('authtoken', data._kmd.authtoken);\r\n\t\tsessionStorage.setItem('username', data.username);\r\n\t\tif( data._kmd.roles.length > 0) {\r\n\t\t\tsessionStorage.setItem('role', data._kmd.roles[0].roleId);\r\n\t\t}\r\n\t},\r\n\r\n\tlogout: () => {\r\n\t\treturn requester\r\n\t\t\t.post(sessionAuth, module, '_logout')\r\n\t},\r\n\r\n\tclearSession: () => {\r\n\t\tsessionStorage.clear();\r\n\t},\r\n\r\n\tcheckUser: () => {\r\n\t\treturn sessionStorage.getItem('role')\r\n\t}\r\n};\r\n\r\n","import requester from '../requester';\r\n\r\nconst module = 'appdata';\r\nconst basicAuth = 'basicAuth';\r\nconst sessionAuth = 'adminAuth';\r\nlet endPoint = 'categories';\r\n\r\nexport default {\r\n\r\n\tcreateCategory: (state) => {\r\n\r\n\t\tlet project = createCategoryInfo(state);\r\n\r\n\t\treturn requester\r\n\t\t\t.post(sessionAuth, module, endPoint, project);\r\n\t},\r\n\r\n\r\n\tloadAllCategories: () => {\r\n\t\treturn requester\r\n\t\t\t.get(sessionAuth, module, endPoint);\r\n\t},\r\n\r\n\r\n\tloadCategoryData: (id) => {\r\n\r\n\t\tlet endPointId = endPoint + '/' + id;\r\n\r\n\t\treturn requester\r\n\t\t\t.get(sessionAuth, module, endPointId);\r\n\t},\r\n\r\n\r\n\teditCategory: (id, state) => {\r\n\r\n\t\tlet endPointId = endPoint + '/' + id;\r\n\r\n\t\tlet project = createCategoryInfo(state);\r\n\r\n\t\treturn requester\r\n\t\t\t.put(sessionAuth, module, endPointId, project);\r\n\t}\r\n};\r\n\r\nfunction createCategoryInfo (state) {\r\n\r\n\treturn {\r\n\t\tname: state.name,\r\n\t};\r\n\r\n}\r\n\r\n","\r\nconst LANGUAGES = {\r\n\tbg: 'bg',\r\n\ten: 'en'\r\n};\r\n\r\nconst MENU = {\r\n\tbg: {\r\n\t\tprojects: 'Проекти',\r\n\t\tcontact: 'Контакти',\r\n\t\tclients: 'Клиенти',\r\n\t\tcategories: 'Категории',\r\n\t\tlogout: 'Изход'\r\n\t},\r\n\ten: {\r\n\t\tprojects: 'Projects',\r\n\t\tcontact: 'Contacts',\r\n\t\tclients: 'Clients',\r\n\t\tcategories: 'Categories',\r\n\t\tlogout: 'Logout'\r\n\t}\r\n};\r\n\r\nconst CREATE_PROJECT_INPUTS = {\r\n\tbg: {\r\n\t\tname: 'Име на проекта',\r\n\t\tdescription: 'Описание',\r\n\t\tclient: 'Клиент',\r\n\t\tyear: 'Година',\r\n\t\twebPage: 'Уеб страница',\r\n\t\tisStar: 'Топ проект',\r\n\t\tcategory: 'Категория',\r\n\t\tthumbnail: 'Тъмбнейл',\r\n\t\timages: 'Изображения',\r\n\t\tvideos: 'Видеа'\r\n\t},\r\n\ten: {\r\n\t\tname: 'Project name',\r\n\t\tdescription: 'Description',\r\n\t\tclient: 'Client',\r\n\t\tyear: 'Year',\r\n\t\twebPage: 'Web Page',\r\n\t\tisStar: 'Top Project',\r\n\t\tcategory: 'Category',\r\n\t\tthumbnail: 'Thumbnail',\r\n\t\timages: 'Images',\r\n\t\tvideos: 'Videos'\r\n\t}\r\n};\r\n\r\nconst CATEGORY_INPUTS = {\r\n\tbg: {\r\n\t\tname: 'Име на категорията',\r\n\t},\r\n\ten: {\r\n\t\tname: 'Category name',\r\n\t}\r\n};\r\n\r\nconst CLIENT_INPUTS = {\r\n\tbg: {\r\n\t\tname: 'Име на клиента',\r\n\t},\r\n\ten: {\r\n\t\tname: 'Client name',\r\n\t}\r\n};\r\n\r\nconst BUTTONS = {\r\n\tbg: {\r\n\t\tcreate: 'Създай',\r\n\t\tedit: 'Редакция',\r\n\t\tdelete: 'Изтриване',\r\n\t\tcancel: 'Отказ',\r\n\t\tview: 'Разгледай',\r\n\t\tconfirm: 'OK',\r\n\t\tclose: 'Затвори',\r\n\r\n\t\tnewProject: 'Нов проект',\r\n\t\tnewClient: 'Нов клиент',\r\n\t\tnewCategory: 'Нова категория'\r\n\t},\r\n\ten: {\r\n\t\tcreate: 'Create',\r\n\t\tedit: 'Edit',\r\n\t\tdelete: 'Delete',\r\n\t\tcancel: 'Cancel',\r\n\t\tview: 'View More',\r\n\t\tconfirm: 'OK',\r\n\t\tclose: 'Close',\r\n\r\n\t\tnewProject: 'New Project',\r\n\t\tnewClient: 'New Client',\r\n\t\tnewCategory: 'New Category'\r\n\t}\r\n};\r\n\r\nconst CONFIRM_DIALOG_MESSAGES = {\r\n\tbg: {\r\n\t\tconfirmDeleteProject: 'Желаете ли да изтриете този проект?',\r\n\t},\r\n\ten: {\r\n\t\tconfirmDeleteProject: 'Delete this project?',\r\n\t}\r\n};\r\n\r\nconst NOTIFICATIONS = {\r\n\tbg: {\r\n\t\tprojectCreated: 'Проектът беше създаден.',\r\n\t\tprojectDeleted: 'Проектът беше изтрит.',\r\n\r\n\t\tcategoryCreated: 'Категорията е създадена.',\r\n\t\tcategoryDeleted: 'Категорията беше изтрита.',\r\n\r\n\t\tclientCreated: 'Клиентът е създаден.',\r\n\t\tclientDeleted: 'Клиентът беше изтрит.',\r\n\r\n\t\tsuccessEdit: 'Успешна редакция.',\r\n\r\n\t},\r\n\ten: {\r\n\t\tprojectCreated: 'Project created.',\r\n\t\tprojectDeleted: 'Project deleted.',\r\n\r\n\t\tcategoryCreated: 'Category created.',\r\n\t\tcategoryDeleted: 'Category deleted.',\r\n\r\n\t\tclientCreated: 'Client created.',\r\n\t\tclientDeleted: 'Client deleted.',\r\n\r\n\t\tsuccessEdit: 'Successful edit.',\r\n\t}\r\n};\r\n\r\nconst ADMIN_PAGES_TEXT = {\r\n\tproject: {\r\n\t\tbg: {\r\n\t\t\tthumbnail: 'Тъмбнейл',\r\n\t\t\timages: 'Изображения',\r\n\t\t\tvideos: 'Видеа',\r\n\t\t\teditProject: 'Редакция на проект',\r\n\t\t\tcreateProject: 'Създаване на проект',\r\n\t\t\tallProjects: 'Всички проекти'\r\n\t\t},\r\n\t\ten: {\r\n\t\t\tthumbnail: 'Thumbnail',\r\n\t\t\timages: 'Images',\r\n\t\t\tvideos: 'Videos',\r\n\t\t\teditProject: 'Edit Project',\r\n\t\t\tcreateProject: 'Create New Project',\r\n\t\t\tallProjects: 'All Projects'\r\n\t\t}\r\n\t},\r\n\tclient: {\r\n\t\tbg: {\r\n\t\t\teditClient: 'Редакция на клиент',\r\n\t\t\tcreateClient: 'Създаване на клиент',\r\n\t\t\tallClients: 'Всички клиенти'\r\n\t\t},\r\n\t\ten: {\r\n\t\t\teditClient: 'Edit Client',\r\n\t\t\tcreateClient: 'Create New Client',\r\n\t\t\tallClients: 'All Clients'\r\n\t\t}\r\n\t},\r\n\tcategory: {\r\n\t\tbg: {\r\n\t\t\teditCategory: 'Редакция на категория',\r\n\t\t\tcreateCategory: 'Създаване на категория',\r\n\t\t\tallCategories: 'Всички категории'\r\n\t\t},\r\n\t\ten: {\r\n\t\t\teditCategory: 'Edit Category',\r\n\t\t\tcreateCategory: 'Create New Category',\r\n\t\t\tallCategories: 'All Categories'\r\n\t\t}\r\n\t}\r\n\r\n};\r\n\r\nconst USER_PAGES_TEXT = {\r\n\tproject: {\r\n\t\tbg: {\r\n\t\t\totherProjects: 'Други проекти',\r\n\t\t},\r\n\t\ten: {\r\n\t\t\totherProjects: 'Other Projects',\r\n\t\t}\r\n\t}\r\n};\r\n\r\n\r\n\r\nexport {\r\n\tLANGUAGES,\r\n\tMENU,\r\n\tCREATE_PROJECT_INPUTS,\r\n\tCATEGORY_INPUTS,\r\n\tCLIENT_INPUTS,\r\n\tBUTTONS,\r\n\tCONFIRM_DIALOG_MESSAGES,\r\n\tNOTIFICATIONS,\r\n\tADMIN_PAGES_TEXT,\r\n\tUSER_PAGES_TEXT\r\n}","import React from 'react';\r\n\r\nexport const languages = {\r\n\tbg: 'bg',\r\n\ten: 'en'\r\n};\r\n\r\nexport const LanguageContext = React.createContext(\r\n\tlanguages.bg // default value\r\n);","import React from 'react';\r\nimport { NavLink, Link } from 'react-router-dom';\r\nimport { withRouter } from 'react-router';\r\n\r\n// Services\r\nimport authService from '../../services/auth/authService';\r\nimport categoriesService from '../../services/categories/categoriesService';\r\n\r\n// Constants\r\nimport { MENU } from '../../constants/constants';\r\n\r\nimport { LanguageContext, languages } from './languagesContext/LanguageContext';\r\n\r\nclass HeaderC extends React.Component {\r\n\r\n\tconstructor (props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tcategories: []\r\n\t\t};\r\n\t}\r\n\r\n\tcomponentDidMount () {\r\n\r\n\t\tif (sessionStorage.length === 0) {\r\n\t\t\tauthService\r\n\t\t\t\t.loginAnonymousUser()\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\tauthService.saveSession(res);\r\n\t\t\t\t\tthis.getLanguage();\r\n\t\t\t\t\tthis.loadCategories();\r\n\t\t\t\t})\r\n\t\t\t\t.catch(err => {\r\n\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t});\r\n\t\t} else {\r\n\t\t\tthis.getLanguage();\r\n\t\t\tthis.loadCategories();\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tloadCategories = () => {\r\n\t\tcategoriesService\r\n\t\t\t.loadAllCategories()\r\n\t\t\t.then(res => {\r\n\t\t\t\tthis.setState({categories: res});\r\n\t\t\t})\r\n\t\t\t.catch(err => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\t};\r\n\r\n\tgetLanguage = () => {\r\n\r\n\t\tlet pathArray = this.props.location.pathname.split('/').filter(e => e !== '');\r\n\r\n\t\tif (pathArray[0] === languages.en) {\r\n\t\t\tthis.context.updateLanguage(languages.en);\r\n\t\t} else {\r\n\t\t\tthis.context.updateLanguage(languages.bg);\r\n\t\t}\r\n\t};\r\n\r\n\tchangeRouteByLanguage = (e) => {\r\n\r\n\t\tlet pathArray = this.props.location.pathname;\r\n\r\n\t\tlet activeLanguage = this.context.language;\r\n\r\n\t\tif (activeLanguage === languages.en) {\r\n\t\t\tlet subStr = pathArray.substring(3);\r\n\t\t\tthis.context.updateLanguage(languages.bg);\r\n\t\t\tthis.props.history.push(subStr);\r\n\t\t} else {\r\n\t\t\tthis.context.updateLanguage(languages.en);\r\n\t\t\tthis.props.history.push('/' + languages.en + pathArray);\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tlogout = () => {\r\n\t\tauthService\r\n\t\t\t.logout()\r\n\t\t\t.then(res => {\r\n\t\t\t\tauthService.clearSession();\r\n\t\t\t\twindow.location.reload();\r\n\t\t\t})\r\n\t\t\t.catch(err => console.log(err));\r\n\t};\r\n\r\n\trender () {\r\n\r\n\t\tlet admin = sessionStorage.getItem('role') !== null;\r\n\t\tlet lang = this.context.language;\r\n\r\n\t\tif (admin) {\r\n\t\t\treturn (\r\n\t\t\t\t<div id=\"header\">\r\n\r\n\t\t\t\t\t{/*<Link to=\"/home\" id=\"brand\"/>*/}\r\n\r\n\t\t\t\t\t<nav id=\"main-nav\">\r\n\r\n\t\t\t\t\t\t<NavLink to='/admin/projects-list'\r\n\t\t\t\t\t\t         className=\"nav-link\"\r\n\t\t\t\t\t\t         activeClassName='active'>{MENU[lang].projects}</NavLink>\r\n\r\n\t\t\t\t\t\t<NavLink to='/admin/category-list'\r\n\t\t\t\t\t\t         className=\"nav-link\"\r\n\t\t\t\t\t\t         activeClassName='active'>{MENU[lang].categories}</NavLink>\r\n\r\n\t\t\t\t\t\t<NavLink to='/admin/clients-list'\r\n\t\t\t\t\t\t         className=\"nav-link\"\r\n\t\t\t\t\t\t         activeClassName='active'>{MENU[lang].clients}</NavLink>\r\n\r\n\t\t\t\t\t\t<NavLink exact to='/'\r\n\t\t\t\t\t\t         className=\"nav-link\"\r\n\t\t\t\t\t\t         activeClassName='active'\r\n\t\t\t\t\t\t         onClick={this.logout}>{MENU[lang].logout}</NavLink>\r\n\r\n\t\t\t\t\t</nav>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tlet link = lang === languages.bg ? '/projects/' : '/' + lang + '/projects/';\r\n\r\n\t\tlet categories = this.state.categories.map(e => {\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<NavLink key={e._id}\r\n\t\t\t\t         to={link + e.name.en}\r\n\t\t\t\t         className=\"nav-link\"\r\n\t\t\t\t         activeClassName='active'>{e.name[lang]}</NavLink>\r\n\t\t\t);\r\n\t\t});\r\n\r\n\t\treturn (\r\n\t\t\t<div id=\"header\">\r\n\r\n\t\t\t\t<Link to=\"/\" id=\"brand\"/>\r\n\r\n\t\t\t\t<nav id=\"main-nav\">\r\n\r\n\t\t\t\t\t<NavLink\r\n\t\t\t\t\t\tto={link}\r\n\t\t\t\t\t\tclassName=\"nav-link\"\r\n\t\t\t\t\t\tactiveClassName='active'>{MENU[lang].projects}</NavLink>\r\n\r\n\t\t\t\t\t{categories}\r\n\r\n\t\t\t\t\t<NavLink exact\r\n\t\t\t\t\t         to=\"/\"\r\n\t\t\t\t\t         className=\"nav-link\"\r\n\t\t\t\t\t         activeClassName='active'>{MENU[lang].contact}</NavLink>\r\n\r\n\t\t\t\t</nav>\r\n\r\n\t\t\t\t<nav id=\"second-nav\">\r\n\t\t\t\t\t<button className=\"btn btn-light sm\"\r\n\t\t\t\t\t        value={lang}\r\n\t\t\t\t\t        onClick={this.changeRouteByLanguage}>{lang === languages.bg ? languages.en : languages.bg}</button>\r\n\t\t\t\t</nav>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\n// To fix mistake index.js:1452 Warning: withRouter(Header): Function components do not support contextType.\r\nconst Header = withRouter(HeaderC);\r\nHeader.WrappedComponent.contextType = LanguageContext;\r\nexport default Header\r\n\r\n// Header.contextType = LanguageContext;\r\n//\r\n// export default withRouter(Header);\r\n","import React from 'react';\r\nimport {Link} from 'react-router-dom';\r\n\r\nclass Footer extends React.Component {\r\n\r\n    render() {\r\n\r\n        return (\r\n            <footer>\r\n\r\n                <p>\r\n\r\n                    Footer\r\n\r\n                </p>\r\n            </footer>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Footer;\r\n","import React from 'react'\r\nimport { Route, Redirect } from 'react-router-dom'\r\n\r\nfunction getToken () {\r\n    return sessionStorage.getItem('role')\r\n}\r\n\r\nconst PrivateRoute = ({component: Component, ...rest}) => (\r\n\r\n    <Route {...rest} render={props => (\r\n        getToken() ? (\r\n            <Component {...props} />\r\n        ) : (\r\n            <Redirect to={{\r\n                pathname: '/login',\r\n                state: { from: props.location }\r\n            }} />\r\n        )\r\n    )\r\n    } />\r\n);\r\n\r\nexport default PrivateRoute\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\n// Constants\r\nimport { BUTTONS } from '../../constants/constants';\r\n\r\n\r\nclass Notifications extends React.Component {\r\n\tconstructor (props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tvisible: false,\r\n\t\t\tmessage: ''\r\n\t\t};\r\n\t}\r\n\r\n\tcomponentDidMount () {\r\n\t\tthis.props.onRef(this);\r\n\t}\r\n\r\n\tcomponentWillUnmount () {\r\n\t\tthis.props.onRef(undefined);\r\n\t}\r\n\r\n\r\n\tshowMessage = (message) => {\r\n\r\n\t\tdocument.addEventListener('keypress', this.handleKeyPress);\r\n\r\n\t\tthis.setState({\r\n\t\t\tvisible: true,\r\n\t\t\tmessage: message\r\n\t\t});\r\n\t};\r\n\r\n\thideMessage = () => {\r\n\t\tthis.setState({\r\n\t\t\tvisible: false,\r\n\t\t\tmessage: ''\r\n\t\t});\r\n\t};\r\n\r\n\thandleKeyPress = (e) => {\r\n\t\tif (e.key === 'Enter') {\r\n\t\t\tthis.hideMessage();\r\n\t\t\tdocument.removeEventListener('keypress', this.handleKeyPress);\r\n\t\t}\r\n\t};\r\n\r\n\trender () {\r\n\r\n\t\tlet isVisible = this.state.visible;\r\n\r\n\t\tlet language = this.props.language;\r\n\r\n\t\treturn (\r\n\t\t\t<div id=\"messages\"\r\n\t\t\t     className={isVisible ? 'visible' : ''}\r\n\t\t\t     onClick={this.hideMessage}>\r\n\t\t\t\t<div className=\"message\">\r\n\t\t\t\t\t<p className=\"message-text\">{this.state.message}</p>\r\n\r\n\t\t\t\t\t<button className=\"btn btn-primary\" onClick={this.hideMessage}>{BUTTONS[language].close}</button>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Notifications;\r\n\r\nNotifications.propTypes = {\r\n\tlanguage: PropTypes.string,\r\n};\r\n\r\n","import React from 'react';\r\n\r\nimport authService from '../../services/auth/authService';\r\n\r\nimport Notifications from '../common/Notifications';\r\n\r\nclass Login extends React.Component {\r\n\tconstructor (props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tusername: '',\r\n\t\t\tpassword: ''\r\n\t\t};\r\n\t}\r\n\r\n\thandleChange = (e) => {\r\n\t\tthis.setState({[e.target.name]: e.target.value});\r\n\t};\r\n\r\n\tlogin = (e) => {\r\n\t\te.preventDefault();\r\n\r\n\t\tlet {username, password} = this.state;\r\n\r\n\t\tif (username.trim() === '') {\r\n\t\t\tthis.notifications.showMessage('invalid username');\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (password.trim() === '') {\r\n\t\t\tthis.notifications.showMessage('invalid password');\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (sessionStorage.getItem('authtoken')) {\r\n\t\t\tauthService\r\n\t\t\t\t.logout() // To logout anonymous user\r\n\t\t\t\t.then(() => {\r\n\t\t\t\t\tauthService.clearSession();\r\n\t\t\t\t\tthis.makeLoginRequest();\r\n\t\t\t\t});\r\n\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tthis.makeLoginRequest();\r\n\r\n\t};\r\n\r\n\tmakeLoginRequest = () => {\r\n\t\tauthService.login(this.state)\r\n\t\t\t.then(res => {\r\n\t\t\t\tauthService.saveSession(res);\r\n\t\t\t\tthis.clearForm();\r\n\t\t\t\tthis.notifications.showMessage('logged in as: ' + res.username);\r\n\r\n\t\t\t\tlet path = '/';\r\n\t\t\t\tif (authService.checkUser()) {path = '/admin/projects-list'}\r\n\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.props.history.push(path);\r\n\t\t\t\t}, 2000)\r\n\r\n\t\t\t})\r\n\t\t\t.catch(err => {\r\n\t\t\t\tthis.notifications.showMessage(err.responseJSON.description);\r\n\t\t\t});\r\n\t};\r\n\r\n\tclearForm = () => {\r\n\t\tthis.setState({username: '', password: ''});\r\n\t};\r\n\r\n\trender () {\r\n\r\n\t\treturn (\r\n\t\t\t<div id=\"login\" className=\"container\">\r\n\t\t\t\t<Notifications onRef={ref => (this.notifications = ref)} language='bg'/>\r\n\r\n\t\t\t\t<h1>Login</h1>\r\n\r\n\t\t\t\t<form method=\"post\" onSubmit={this.login}>\r\n\r\n\t\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t\t<label htmlFor=\"username\">Username</label>\r\n\t\t\t\t\t\t<input type=\"text\"\r\n\t\t\t\t\t\t       name=\"username\"\r\n\t\t\t\t\t\t       value={this.state.username}\r\n\t\t\t\t\t\t       className=\"form-control\"\r\n\t\t\t\t\t\t       id=\"username\"\r\n\t\t\t\t\t\t       placeholder=\"Username\"\r\n\t\t\t\t\t\t       onChange={this.handleChange}/>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t\t<label htmlFor=\"password\">Password</label>\r\n\t\t\t\t\t\t<input type=\"password\"\r\n\t\t\t\t\t\t       name=\"password\"\r\n\t\t\t\t\t\t       value={this.state.password}\r\n\t\t\t\t\t\t       className=\"form-control\"\r\n\t\t\t\t\t\t       id=\"password\"\r\n\t\t\t\t\t\t       placeholder=\"Password\"\r\n\t\t\t\t\t\t       onChange={this.handleChange}/>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<button className=\"btn btn-primary\" type=\"submit\"> Login</button>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Login;","import React from 'react';\r\n\r\nclass Carousel extends React.Component {\r\n\tconstructor (props) {\r\n\t\tsuper(props);\r\n\t}\r\n\r\n\trender () {\r\n\r\n\t\tlet images = this.props.images;\r\n\r\n\t\treturn (\r\n\r\n\t\t\t<div className=\"carousel\">\r\n\t\t\t\t<div className=\"img-container\">\r\n\t\t\t\t\t<img className=\"img-fit\" src='/images/carousel/carousel_03.jpg' alt=''/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Carousel;","import React from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { LanguageContext } from '../../common/languagesContext/LanguageContext';\r\n\r\n// Constants\r\nimport {BUTTONS} from '../../../constants/constants';\r\n\r\n\r\nclass HomeProjectCard extends React.Component {\r\n\tconstructor (props) {\r\n\t\tsuper(props);\r\n\t}\r\n\r\n\r\n\trender () {\r\n\r\n\t\tlet project = this.props.project;\r\n\r\n\t\tlet activeLanguage = this.context.language\r\n\r\n\r\n\t\treturn (\r\n\t\t\t<article className=\"project-card\">\r\n\t\t\t\t<div className=\"img-container\">\r\n\t\t\t\t\t<img className=\"img-fit\" src={project.thumbnail} alt={project.name[activeLanguage]}/>\r\n\t\t\t\t</div>\r\n\r\n\r\n\t\t\t\t<Link to={'/projects/all/' + project._id} className=\"hover\">\r\n\t\t\t\t\t<div className=\"info\">\r\n\t\t\t\t\t\t<p className=\"project-client\">{project.clientName[activeLanguage]}</p>\r\n\t\t\t\t\t\t<p className=\"project-name\">{project.name[activeLanguage]}</p>\r\n\t\t\t\t\t\t<p className=\"project-year\">{project.year}</p>\r\n\t\t\t\t\t\t<button className=\"btn btn-light xs\">{BUTTONS[activeLanguage].view}</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Link>\r\n\t\t\t</article>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nHomeProjectCard.contextType = LanguageContext;\r\n\r\nexport default HomeProjectCard;\r\n\r\nHomeProjectCard.propTypes = {\r\n\tproject: PropTypes.object,\r\n\tactiveLanguage: PropTypes.string,\r\n};","import requester from '../requester';\r\n\r\nconst module = 'appdata';\r\nconst basicAuth = 'basicAuth';\r\nconst sessionAuth = 'sessionAuth';\r\nlet endPoint = 'projects';\r\n\r\nexport default {\r\n\r\n\tcreateProject: (state) => {\r\n\r\n\t\tlet project = createProjectInfo(state);\r\n\r\n\t\treturn requester\r\n\t\t\t.post(sessionAuth, module, endPoint, project);\r\n\t},\r\n\r\n\r\n\tloadAllProjects: (query) => {\r\n\t\treturn requester\r\n\t\t\t.get(sessionAuth, module, endPoint, query);\r\n\t},\r\n\r\n\r\n\tloadProjectData: (id) => {\r\n\r\n\t\tlet endPointId = endPoint + '/' + id;\r\n\r\n\t\treturn requester\r\n\t\t\t.get(sessionAuth, module, endPointId);\r\n\t},\r\n\r\n\tgetProjectsCount: () => {\r\n\r\n\t\tlet endPointCount = endPoint + '/_count';\r\n\r\n\t\treturn requester\r\n\t\t\t.get(sessionAuth, module, endPointCount);\r\n\r\n\t},\r\n\r\n\r\n\teditProject: (id, state) => {\r\n\r\n\t\tlet endPointId = endPoint + '/' + id;\r\n\r\n\t\tlet project = createProjectInfo(state);\r\n\r\n\t\treturn requester\r\n\t\t\t.put(sessionAuth, module, endPointId, project);\r\n\t},\r\n\r\n\tdeleteProject: (id) => {\r\n\r\n\t\tlet endPointId = endPoint + '/' + id;\r\n\r\n\t\treturn requester\r\n\t\t\t.remove(sessionAuth, module, endPointId);\r\n\r\n\t}\r\n};\r\n\r\nfunction createProjectInfo (state) {\r\n\r\n\treturn {\r\n\t\tname: state.name,\r\n\t\tdescription: state.description,\r\n\t\tyear: state.year,\r\n\t\twebPage: state.webPage,\r\n\t\tisStar: state.isStar,\r\n\t\tclientId: state.clientId,\r\n\t\tcategoryIds: state.categoryIds,\r\n\t\timages: state.images,\r\n\t\tthumbnail: state.thumbnail,\r\n\t\tvideos: state.videos,\r\n\t};\r\n}\r\n\r\n","import requester from '../requester';\r\n\r\nconst module = 'appdata';\r\nconst basicAuth = 'basicAuth';\r\nconst sessionAuth = 'adminAuth';\r\nlet endPoint = 'clients';\r\n\r\nexport default {\r\n\r\n\tcreateClient: (state) => {\r\n\r\n\t\tlet project = createCategoryInfo(state);\r\n\r\n\t\treturn requester\r\n\t\t\t.post(sessionAuth, module, endPoint, project);\r\n\t},\r\n\r\n\r\n\tloadAllClients: () => {\r\n\t\treturn requester\r\n\t\t\t.get(sessionAuth, module, endPoint);\r\n\t},\r\n\r\n\r\n\tloadClientData: (id) => {\r\n\r\n\t\tlet endPointId = endPoint + '/' + id;\r\n\r\n\t\treturn requester\r\n\t\t\t.get(sessionAuth, module, endPointId);\r\n\t},\r\n\r\n\r\n\teditClient: (id, state) => {\r\n\r\n\t\tlet endPointId = endPoint + '/' + id;\r\n\r\n\t\tlet project = createCategoryInfo(state);\r\n\r\n\t\treturn requester\r\n\t\t\t.put(sessionAuth, module, endPointId, project);\r\n\t}\r\n};\r\n\r\nfunction createCategoryInfo (state) {\r\n\r\n\treturn {\r\n\t\tname: state.name\r\n\t};\r\n\r\n}\r\n\r\n","import React from 'react';\r\nimport { LanguageContext } from '../../common/languagesContext/LanguageContext';\r\n\r\n// Partials\r\nimport Carousel from './partials/Carousel';\r\nimport HomeProjectCard from '../common/HomeProjectCard';\r\n\r\n// Services\r\nimport authService from '../../../services/auth/authService';\r\nimport projectsService from '../../../services/projects/projectsService';\r\nimport clientsService from '../../../services/clients/clientsService';\r\nimport categoriesService from '../../../services/categories/categoriesService';\r\n\r\n\r\nclass Home extends React.Component {\r\n\tconstructor (props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tprojects: [],\r\n\r\n\t\t\tclients: [],\r\n\t\t\tcategories: [],\r\n\r\n\t\t\timages: [],\r\n\r\n\t\t\tloading: true\r\n\t\t};\r\n\t}\r\n\r\n\tcomponentDidMount () {\r\n\r\n\t\t// Clear filtered by category projects\r\n\t\tsessionStorage.removeItem('filteredProjects');\r\n\r\n\r\n\t\t// Log anonymous user if storage is empty\r\n\t\tif (sessionStorage.getItem('authtoken') === null) {\r\n\t\t\tauthService\r\n\t\t\t\t.loginAnonymousUser()\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\tauthService.saveSession(res);\r\n\t\t\t\t\tthis.loadStarProjects();\r\n\t\t\t\t})\r\n\t\t\t\t.catch(err => this.notifications.showMessage(err.responseJSON.description))\r\n\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tthis.loadStarProjects();\r\n\t}\r\n\r\n\r\n\r\n\tloadStarProjects = () => {\r\n\r\n\t\tlet query = '?query={\"isStar\":true}';\r\n\r\n\t\tprojectsService\r\n\t\t\t.loadAllProjects(query)\r\n\t\t\t.then(res => {\r\n\r\n\t\t\t\tthis.setState({ projects: res, });\r\n\r\n\t\t\t\tclientsService\r\n\t\t\t\t\t.loadAllClients()\r\n\t\t\t\t\t.then(res => {\r\n\r\n\t\t\t\t\t\tthis.setState({clients: res});\r\n\r\n\t\t\t\t\t\tthis.state.projects.forEach(p => {\r\n\t\t\t\t\t\t\tp.clientName = this.state.clients.filter(c => c._id === p.clientId)[0].name;\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\tcategoriesService\r\n\t\t\t\t\t\t\t.loadAllCategories()\r\n\t\t\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\t\t\tthis.setState({categories: res, loading: false});\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t.catch(err => {\r\n\t\t\t\t\t\t\t\tthis.notifications.showMessage(err.responseJSON.description);\r\n\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(err => {\r\n\t\t\t\t\t\tthis.notifications.showMessage(err.responseJSON.description);\r\n\t\t\t\t\t});\r\n\r\n\t\t\t})\r\n\t\t\t.catch(err => {\r\n\t\t\t\tthis.notifications.showMessage(err.responseJSON.description);\r\n\t\t\t});\r\n\t};\r\n\r\n\r\n\r\n\r\n\trender () {\r\n\r\n\t\tif (this.state.loading) {\r\n\t\t\treturn (<div className=\"lds-dual-ring\"/> );\r\n\t\t}\r\n\r\n\r\n\t\tlet activeLanguage = this.context.language;\r\n\r\n\t\tlet projects = this.state.projects.map(e => {\r\n\t\t\treturn (\r\n\t\t\t\t<HomeProjectCard key={e._id} project={e}/>\r\n\t\t\t)\r\n\t\t});\r\n\r\n\t\treturn (\r\n\t\t\t<div id=\"home\" className=\"container-fluid\">\r\n\t\t\t\t<section className=\"hero\">\r\n\t\t\t\t\t<Carousel images={this.state.images}/>\r\n\t\t\t\t\t<div className=\"brand\">\r\n\t\t\t\t\t\t<figure className=\"image\">\r\n\t\t\t\t\t\t\t<img src=\"images/logo/addict_logo_10.svg\" className=\"svg-icon img-fit\"/>\r\n\t\t\t\t\t\t</figure>\r\n\r\n\t\t\t\t\t\t<p className=\"text\">\r\n\t\t\t\t\t\t\tНие създаваме неща. Измисляме си. Мечтаем.<br/>\r\n\t\t\t\t\t\t\tПросто обичаме това, което правим.\r\n\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</section>\r\n\r\n\t\t\t\t<section className=\"projects-container\">\r\n\t\t\t\t\t{projects}\r\n\t\t\t\t</section>\r\n\r\n\t\t\t</div>\r\n\r\n\t\t);\r\n\t}\r\n}\r\n\r\nHome.contextType = LanguageContext;\r\n\r\nexport default Home;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport { LanguageContext } from '../../common/languagesContext/LanguageContext';\r\n\r\nclass ProjectCard extends React.Component {\r\n\tconstructor (props) {\r\n\t\tsuper(props);\r\n\t}\r\n\r\n\trender () {\r\n\r\n\t\tlet {project, category} = this.props;\r\n\r\n\t\tlet activeLanguage = this.context.language;\r\n\r\n\t\tlet pathLang = activeLanguage === 'en' ? '/' + activeLanguage : '';\r\n\t\tlet linkPath = category\r\n\t\t\t? pathLang + '/projects/' + category + '/' + project._id\r\n\t\t\t: pathLang + '/projects/all/' + project._id;\r\n\r\n\t\treturn (\r\n\t\t\t<article className=\"project-card\">\r\n\t\t\t\t<div className=\"img-container\">\r\n\t\t\t\t\t<img className=\"img-fit\" src={project.thumbnail} alt={project.name[activeLanguage]}/>\r\n\t\t\t\t</div>\r\n\r\n\r\n\t\t\t\t<Link to={linkPath} className=\"hover\">\r\n\t\t\t\t\t<div className=\"info\">\r\n\t\t\t\t\t\t{project.clientName && <p className=\"project-client\">{project.clientName[activeLanguage]}</p>}\r\n\t\t\t\t\t\t<p className=\"project-name\">{project.name[activeLanguage]}</p>\r\n\t\t\t\t\t\t<p className=\"project-year\">{project.year}</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Link>\r\n\t\t\t</article>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nProjectCard.contextType = LanguageContext;\r\n\r\nexport default ProjectCard;\r\n\r\nProjectCard.propTypes = {\r\n\tproject: PropTypes.object,\r\n\tactiveLanguage: PropTypes.string,\r\n\tcategory: PropTypes.string\r\n};","import React from 'react';\r\n\r\nimport { LanguageContext } from '../../common/languagesContext/LanguageContext';\r\n\r\n// Partials\r\nimport ProjectCard from '../common/ProjectCard';\r\n\r\n// Services\r\nimport projectsService from '../../../services/projects/projectsService';\r\nimport clientsService from '../../../services/clients/clientsService';\r\nimport categoriesService from '../../../services/categories/categoriesService';\r\nimport authService from '../../../services/auth/authService';\r\n\r\n// Notifications\r\nimport Notifications from '../../common/Notifications';\r\n\r\n\r\nclass ProjectList extends React.Component {\r\n\tconstructor (props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tprojects: [],\r\n\r\n\t\t\tclients: [],\r\n\t\t\tcategories: [],\r\n\r\n\t\t\tselectedCategoryId: '',\r\n\r\n\t\t\tloading: true\r\n\t\t};\r\n\t}\r\n\r\n\tcomponentDidMount () {\r\n\r\n\t\t// Log anonymous user if storage is empty\r\n\t\tif (sessionStorage.getItem('authtoken') === null) {\r\n\t\t\tauthService\r\n\t\t\t\t.loginAnonymousUser()\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\tauthService.saveSession(res);\r\n\t\t\t\t\tthis.loadAllData();\r\n\t\t\t\t})\r\n\t\t\t\t.catch(err => this.notifications.showMessage(err.responseJSON.description));\r\n\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.loadAllData();\r\n\t}\r\n\r\n\tcomponentWillReceiveProps (nextProps) {\r\n\t\tif (this.props.match.params.category !== nextProps.match.params.category) {\r\n\t\t\tthis.props = nextProps;\r\n\t\t\tthis.getCategoryId();\r\n\t\t}\r\n\t}\r\n\r\n\tloadAllData = () => {\r\n\t\tclientsService\r\n\t\t\t.loadAllClients()\r\n\t\t\t.then(res => {\r\n\r\n\t\t\t\tthis.setState({clients: res});\r\n\r\n\t\t\t\tcategoriesService\r\n\t\t\t\t\t.loadAllCategories()\r\n\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\tthis.setState({categories: res},\r\n\t\t\t\t\t\t\t() => this.getCategoryId());\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(err => {\r\n\t\t\t\t\t\tthis.notifications.showMessage(err.responseJSON.description);\r\n\t\t\t\t\t});\r\n\r\n\t\t\t})\r\n\t\t\t.catch(err => {\r\n\t\t\t\tthis.notifications.showMessage(err.responseJSON.description);\r\n\t\t\t});\r\n\r\n\t};\r\n\r\n\tloadProjects = () => {\r\n\r\n\t\tlet query;\r\n\r\n\t\tif (this.state.selectedCategoryId !== '') {\r\n\t\t\tlet categoryId = this.state.selectedCategoryId;\r\n\r\n\t\t\tquery = `?query={\"categoryIds\":\"${categoryId}\"}`;\r\n\t\t}\r\n\r\n\t\tprojectsService\r\n\t\t\t.loadAllProjects(query)\r\n\t\t\t.then(res => {\r\n\r\n\t\t\t\t\tres.forEach(p => {\r\n\t\t\t\t\t\tp.clientName = this.state.clients.filter(c => c._id === p.clientId)[0].name;\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tthis.setState({projects: res, loading: false}, () => this.saveProjectsInSession());\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t\t.catch(err => {\r\n\t\t\t\tthis.notifications.showMessage(err.responseJSON.description);\r\n\t\t\t});\r\n\t};\r\n\r\n\tgetCategoryId = () => {\r\n\r\n\t\tthis.setState({loading: true});\r\n\r\n\t\tlet categoryName = this.props.match.params.category;\r\n\r\n\t\tif (categoryName !== undefined) {\r\n\r\n\t\t\t// Get categoryId from the name coming from route\r\n\r\n\t\t\tlet catId = this.state.categories.filter(e => e.name.en === categoryName)[0]._id;\r\n\r\n\t\t\tthis.setState({selectedCategoryId: catId}, () => this.loadProjects());\r\n\r\n\t\t} else {\r\n\r\n\t\t\tthis.setState({selectedCategoryId: ''}, () => this.loadProjects());\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tsaveProjectsInSession = () => {\r\n\r\n\t\tlet projectIds = [];\r\n\r\n\t\tthis.state.projects.forEach(e => projectIds.push(e._id));\r\n\t\tsessionStorage.setItem('filteredProjects', JSON.stringify(projectIds));\r\n\t};\r\n\r\n\trender () {\r\n\r\n\t\tif (this.state.loading) {\r\n\t\t\treturn (<div className=\"lds-dual-ring\"/> );\r\n\t\t}\r\n\r\n\t\tlet activeLanguage = this.context.language;\r\n\r\n\t\tlet categoryName = this.props.match.params.category;\r\n\r\n\t\tlet projects = this.state.projects.map((e, i) => {\r\n\t\t\treturn (\r\n\t\t\t\t<ProjectCard key={e._id + i}\r\n\t\t\t\t             project={e}\r\n\t\t\t\t             category={categoryName}\r\n\t\t\t\t/>\r\n\t\t\t);\r\n\t\t});\r\n\r\n\t\treturn (\r\n\t\t\t<div id=\"projects-list\" className=\"container\">\r\n\r\n\t\t\t\t<Notifications onRef={ref => (this.notifications = ref)} language={activeLanguage}/>\r\n\r\n\t\t\t\t<div className=\"projects-container\">\r\n\t\t\t\t\t{projects}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nProjectList.contextType = LanguageContext;\r\n\r\nexport default ProjectList;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nclass GalleryPreview extends React.Component {\r\n\tconstructor (props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\timage: '',\r\n\r\n\t\t\tallImages: []\r\n\t\t};\r\n\r\n\t\tthis.image = React.createRef();\r\n\t}\r\n\r\n\tcomponentDidMount () {\r\n\t\tthis.setState({\r\n\t\t\timage: this.props.image,\r\n\t\t\tallImages: this.props.allImages\r\n\t\t});\r\n\t}\r\n\r\n\tcomponentWillReceiveProps (nextProps) {\r\n\t\tthis.setState({image: nextProps.image});\r\n\t}\r\n\r\n\r\n\tshowNextImage = () => {\r\n\r\n\t\tlet allImages = this.state.allImages;\r\n\r\n\t\tlet image = this.image.current;\r\n\r\n\t\tlet nextImageIndex = allImages.indexOf(this.state.image) + 1;\r\n\t\tif (nextImageIndex === allImages.length) {\r\n\t\t\tnextImageIndex = 0;\r\n\t\t}\r\n\r\n\t\tthis.fadeOut(image);\r\n\r\n\t\tsetTimeout(() => {\r\n\t\t\tthis.setState({ image: this.state.allImages[nextImageIndex]});\r\n\t\t\tthis.fadeIn(image)\r\n\t\t}, 600);\r\n\r\n\t};\r\n\r\n\r\n\tshowPrevImage = () => {\r\n\t\tlet allImages = this.state.allImages;\r\n\r\n\t\tlet image = this.image.current;\r\n\r\n\t\tlet prevImageIndex = allImages.indexOf(this.state.image) - 1;\r\n\t\tif (prevImageIndex < 0) {\r\n\t\t\tprevImageIndex = allImages.length - 1;\r\n\t\t}\r\n\r\n\t\tthis.fadeOut(image);\r\n\r\n\t\tsetTimeout(() => {\r\n\t\t\tthis.setState({image: this.state.allImages[prevImageIndex]});\r\n\t\t\tthis.fadeIn(image)\r\n\t\t}, 600);\r\n\t};\r\n\r\n\tfadeOut = (el) => {\r\n\t\twindow.requestAnimationFrame(function () {\r\n\t\t\tel.style.transition = 'opacity 400ms';\r\n\t\t\tel.style.opacity = 0;\r\n\t\t});\r\n\t};\r\n\r\n\tfadeIn = (el) => {\r\n\t\twindow.requestAnimationFrame(function () {\r\n\t\t\tel.style.transition = 'opacity 1200ms';\r\n\t\t\tel.style.opacity = 1;\r\n\t\t});\r\n\t};\r\n\r\n\trender () {\r\n\r\n\t\tlet isVisible = this.state.image !== '';\r\n\r\n\t\treturn (\r\n\t\t\t<div className={isVisible ? 'image-preview visible' : 'image-preview'}>\r\n\t\t\t\t<button className=\"close-btn\" onClick={this.props.onClose}>close</button>\r\n\t\t\t\t<div className=\"gallery-navigation\">\r\n\t\t\t\t\t<span className=\"gallery-navigation-button\" onClick={this.showPrevImage}>prev</span>\r\n\t\t\t\t\t<span className=\"gallery-navigation-button\" onClick={this.showNextImage}>next</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<figure className=\"image\">\r\n\t\t\t\t\t<img src={this.state.image}\r\n\t\t\t\t\t     className=\"img-fit\"\r\n\t\t\t\t\t     alt={this.state.image}\r\n\t\t\t\t\t     ref={this.image}/>\r\n\t\t\t\t</figure>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default GalleryPreview;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { LanguageContext } from '../../common/languagesContext/LanguageContext';\r\n\r\n// Partials\r\nimport GalleryPreview from './partials/GalleryPreview';\r\nimport ProjectCard from '../common/ProjectCard';\r\n\r\n// Services\r\nimport projectsService from '../../../services/projects/projectsService';\r\nimport clientsService from '../../../services/clients/clientsService';\r\nimport authService from '../../../services/auth/authService';\r\n\r\n// Notifications\r\nimport Notifications from '../../common/Notifications';\r\n\r\n// Constants\r\nimport { USER_PAGES_TEXT } from '../../../constants/constants';\r\n\r\nclass Project extends React.Component {\r\n\tconstructor (props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tproject: [],\r\n\t\t\tclientName: '',\r\n\r\n\t\t\tselectedImage: '',\r\n\r\n\t\t\tcurrentProjectIndex: 0,\r\n\t\t\tprevProjectId: undefined,\r\n\t\t\tnextProjectId: undefined,\r\n\r\n\t\t\trandomProjects: [],\r\n\r\n\t\t\tloading: true\r\n\t\t};\r\n\t}\r\n\r\n\tprojectId = this.props.match.params.id;\r\n\r\n\tcomponentDidMount () {\r\n\r\n\t\t// Log anonymous user if storage is empty\r\n\t\tif (sessionStorage.getItem('authtoken') === null) {\r\n\t\t\tauthService\r\n\t\t\t\t.loginAnonymousUser()\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\tauthService.saveSession(res);\r\n\t\t\t\t\tthis.setIndexes();\r\n\t\t\t\t\tthis.loadRandomProjects();\r\n\t\t\t\t})\r\n\t\t\t\t.catch(err => this.notifications.showMessage(err.responseJSON.description));\r\n\t\t} else {\r\n\t\t\tthis.setIndexes();\r\n\t\t\tthis.loadRandomProjects();\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillReceiveProps (nextProps) {\r\n\r\n\t\tif (this.props.match.params.id !== nextProps.match.params.id) {\r\n\t\t\tthis.setState({loading: true});\r\n\t\t\tthis.props = nextProps;\r\n\r\n\t\t\tthis.projectId = nextProps.match.params.id;\r\n\r\n\t\t\tthis.setIndexes();\r\n\r\n\t\t\tthis.setState({randomProjects: []}, () => this.loadRandomProjects());\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillUnmount () {\r\n\t\tsessionStorage.removeItem('filteredProjects');\r\n\t}\r\n\r\n\tsetIndexes = () => {\r\n\r\n\t\tlet filteredProjectIds = JSON.parse(sessionStorage.getItem('filteredProjects'));\r\n\r\n\t\tif (!filteredProjectIds) {\r\n\t\t\tthis.loadProject();\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tlet currentProjectIndex = filteredProjectIds.indexOf(this.projectId);\r\n\r\n\t\tlet nextProjectId = filteredProjectIds[currentProjectIndex + 1];\r\n\t\tlet prevProjectId = filteredProjectIds[currentProjectIndex - 1];\r\n\r\n\t\tthis.setState({\r\n\t\t\tcurrentProjectIndex,\r\n\t\t\tprevProjectId,\r\n\t\t\tnextProjectId\r\n\t\t}, () => this.loadProject());\r\n\r\n\t};\r\n\r\n\tloadProject = () => {\r\n\t\tprojectsService\r\n\t\t\t.loadProjectData(this.projectId)\r\n\t\t\t.then(res => {\r\n\t\t\t\tthis.setState({project: res});\r\n\t\t\t})\r\n\t\t\t.then(() => {\r\n\t\t\t\t\tclientsService\r\n\t\t\t\t\t\t.loadAllClients()\r\n\t\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\t\tlet client = res.filter(e => e._id === this.state.project.clientId);\r\n\t\t\t\t\t\t\tthis.setState({clientName: client[0], loading: false});\r\n\t\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t\t.catch(err => {\r\n\t\t\t\tthis.notifications.showMessage(err.responseJSON.description);\r\n\t\t\t});\r\n\t};\r\n\r\n\tloadRandomProjects = () => {\r\n\r\n\t\tlet query = '?query={}&fields=_id';\r\n\r\n\t\tprojectsService\r\n\t\t\t.loadAllProjects(query)\r\n\t\t\t.then(res => {\r\n\r\n\t\t\t\tconst projects = res.filter(e => e._id !== this.projectId);\r\n\r\n\t\t\t\tconst numberOfProjectsToLoad = 3;\r\n\r\n\t\t\t\t// Get random ids\r\n\t\t\t\tlet projectIds = [];\r\n\r\n\t\t\t\twhile (projectIds.length < numberOfProjectsToLoad) {\r\n\r\n\t\t\t\t\tlet randomNumber = Math.floor((Math.random() * projects.length));\r\n\r\n\t\t\t\t\tif (!projectIds.includes(projects[randomNumber]._id)) {\r\n\t\t\t\t\t\tprojectIds.push(projects[randomNumber]._id);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Load random projects by id\r\n\t\t\t\tfor (let i = 0; i < projectIds.length; i++) {\r\n\t\t\t\t\tprojectsService\r\n\t\t\t\t\t\t.loadProjectData(projectIds[i])\r\n\t\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\t\tthis.setState({randomProjects: [...this.state.randomProjects, res]});\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch(err => this.notifications.showMessage(err.responseJSON.description));\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch(err => this.notifications.showMessage(err.responseJSON.description));\r\n\t};\r\n\r\n\tshowPreview = (e) => {\r\n\t\tthis.setState({selectedImage: e.target.src});\r\n\t};\r\n\r\n\thidePreview = () => {\r\n\t\tthis.setState({selectedImage: ''});\r\n\t};\r\n\r\n\trender () {\r\n\r\n\t\tif (this.state.loading) {\r\n\t\t\treturn (<div className=\"lds-dual-ring\"/> );\r\n\t\t}\r\n\r\n\t\tlet activeLanguage = this.context.language;\r\n\r\n\t\tlet project = this.state.project;\r\n\r\n\t\tlet client = this.state.clientName[activeLanguage];\r\n\r\n\t\tlet gallery = project.images.map(e => {\r\n\t\t\treturn (\r\n\t\t\t\t<figure className=\"image\" key={e}>\r\n\t\t\t\t\t<img src={e} className=\"img-fit\" alt={e} onClick={this.showPreview}/>\r\n\t\t\t\t</figure>\r\n\t\t\t);\r\n\t\t});\r\n\r\n\t\tlet randomProjects = this.state.randomProjects.map((e, i) => {\r\n\t\t\treturn (\r\n\t\t\t\t<ProjectCard key={e._id + i} project={e} activeLanguage={activeLanguage}/>\r\n\t\t\t);\r\n\t\t});\r\n\r\n\t\treturn (\r\n\t\t\t<div id=\"project\" className=\"container-fluid\">\r\n\r\n\t\t\t\t<Notifications onRef={ref => (this.notifications = ref)} language={activeLanguage}/>\r\n\r\n\t\t\t\t<GalleryPreview image={this.state.selectedImage} allImages={project.images} onClose={this.hidePreview}/>\r\n\r\n\t\t\t\t<div className=\"project-info\">\r\n\t\t\t\t\t<p className=\"project-title\">{project.name[activeLanguage]}</p>\r\n\t\t\t\t\t<p>{client}</p>\r\n\t\t\t\t\t<p>{project.description[activeLanguage]}</p>\r\n\t\t\t\t\t<p>{project.year}</p>\r\n\r\n\t\t\t\t\t<div className=\"buttons-container\">\r\n\t\t\t\t\t\t<Link to={this.state.prevProjectId !== undefined ? this.state.prevProjectId : '/projects'}\r\n\t\t\t\t\t\t      className={this.state.prevProjectId !== undefined ? 'btn btn-light' : 'btn btn-light disabled'}>\r\n\t\t\t\t\t\t\t<i className=\"fa fa-arrow-left\" aria-hidden=\"true\"/>\r\n\t\t\t\t\t\t</Link>\r\n\r\n\t\t\t\t\t\t<Link to={this.state.nextProjectId !== undefined ? this.state.nextProjectId : '/projects'}\r\n\t\t\t\t\t\t      className={this.state.nextProjectId !== undefined ? 'btn btn-light' : 'btn btn-light disabled'}>\r\n\t\t\t\t\t\t\t<i className=\"fa fa-arrow-right\" aria-hidden=\"true\"/>\r\n\t\t\t\t\t\t</Link>\r\n\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"project-gallery\">\r\n\t\t\t\t\t{gallery}\r\n\t\t\t\t</div>\r\n\r\n\r\n\t\t\t\t<h2 className=\"section-title\">{USER_PAGES_TEXT.project[activeLanguage].otherProjects}</h2>\r\n\t\t\t\t<div className=\"projects-container\">\r\n\t\t\t\t\t{randomProjects}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nProject.contextType = LanguageContext;\r\n\r\nexport default Project;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nclass FormInput extends React.Component {\r\n\tconstructor (props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tvalue: this.props.value || ''\r\n\t\t}\r\n\t}\r\n\r\n\r\n\thandleChange = (e) => {\r\n\t\tthis.setState({value: e.target.value});\r\n\t\tthis.props.onChange(e)\r\n\t};\r\n\r\n\trender () {\r\n\r\n\t\tconst {type, name, value, id, placeholder, label, className, required, disabled, step, min, max, onChange} = this.props;\r\n\r\n\t\treturn (\r\n\t\t\t<div className={\"form-group \"+ className}>\r\n\t\t\t\t<label htmlFor={id}>{label}</label>\r\n\t\t\t\t<input className=\"form-control\"\r\n\t\t\t\t       type={type}\r\n\t\t\t\t       value={this.state.value}\r\n\t\t\t\t       name={name}\r\n\t\t\t\t       id={id}\r\n\t\t\t\t       placeholder={placeholder}\r\n\t\t\t\t       required={required}\r\n\t\t\t\t       disabled={disabled}\r\n\t\t\t\t       step={step}\r\n\t\t\t\t       min={min}\r\n\t\t\t\t       max={max}\r\n\t\t\t\t       onChange={this.handleChange}/>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default FormInput;\r\n\r\nFormInput.propTypes = {\r\n\ttype: PropTypes.string,\r\n\tname: PropTypes.string,\r\n\tvalue: PropTypes.string,\r\n\tid: PropTypes.string,\r\n\tplaceholder: PropTypes.string,\r\n\tlabel: PropTypes.string,\r\n\tclassName: PropTypes.string,\r\n\trequired: PropTypes.bool,\r\n\tdisabled: PropTypes.bool,\r\n\tstep: PropTypes.number,\r\n\tmin: PropTypes.number,\r\n\tmax: PropTypes.number,\r\n\tonChange: PropTypes.func\r\n};","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nclass FormSelectField extends React.Component {\r\n\tconstructor (props) {\r\n\t\tsuper(props);\r\n\t}\r\n\r\n\trender () {\r\n\t\tconst {label, name, className, required, disabled, onChange, options, selected} = this.props;\r\n\r\n\t\tlet optionElements = options.map(el => {\r\n\t\t\treturn (<option key={el._id} value={el._id} >{el.name.bg}</option>);\r\n\t\t});\r\n\r\n\t\treturn (\r\n\t\t\t<div className={'form-group ' + className}>\r\n\t\t\t\t<label>{label}{required && <label className=\"text-danger\">&nbsp;*</label>}</label>\r\n\t\t\t\t<select className=\"form-control\"\r\n\t\t\t\t        name={name}\r\n\t\t\t\t        disabled={disabled}\r\n\t\t\t\t        required={required}\r\n\t\t\t\t        onChange={onChange}\r\n\t\t\t\t        defaultValue={selected}>\r\n\t\t\t\t\t<option value=''/>\r\n\t\t\t\t\t{optionElements}\r\n\r\n\t\t\t\t</select>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default FormSelectField;\r\n\r\nFormSelectField.propTypes = {\r\n\tname: PropTypes.string,\r\n\tclassName: PropTypes.string,\r\n\tdefaultValue: PropTypes.string,\r\n\tlabel: PropTypes.string,\r\n\toptions: PropTypes.array,\r\n\trequired: PropTypes.bool,\r\n\tdisabled: PropTypes.bool,\r\n\tonChange: PropTypes.func\r\n};","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nclass TextArea extends React.Component {\r\n\trender () {\r\n\r\n\t\tconst {name, id, value, placeholder, label, className, required, onChange} = this.props;\r\n\r\n\t\treturn (\r\n\t\t\t<div className={'form-group ' + className}>\r\n\t\t\t\t<label htmlFor={id}>{label}</label>\r\n\t\t\t\t<textarea className=\"form-control\"\r\n\t\t\t\t          name={name}\r\n\t\t\t\t          id={id}\r\n\t\t\t\t          value={value}\r\n\t\t\t\t          placeholder={placeholder}\r\n\t\t\t\t          required={required}\r\n\r\n\t\t\t\t          onChange={onChange}/>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default TextArea;\r\n\r\nTextArea.propTypes = {\r\n\tname: PropTypes.string,\r\n\tvalue: PropTypes.string,\r\n\tid: PropTypes.string,\r\n\tplaceholder: PropTypes.string,\r\n\tlabel: PropTypes.string,\r\n\tclassName: PropTypes.string,\r\n\trequired: PropTypes.bool,\r\n\tonChange: PropTypes.func\r\n};","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nclass AddOnInput extends React.Component {\r\n\tconstructor (props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tvalue: '',\r\n\t\t};\r\n\t}\r\n\r\n\thandleChange = (e) => {\r\n\t\tthis.setState({value: e.target.value});\r\n\t};\r\n\r\n\tsubmit = (e) => {\r\n\t\te.preventDefault();\r\n\r\n\t\tif (this.state.value === '') return;\r\n\r\n\t\tthis.props.onChange(e);\r\n\r\n\t\tthis.setState({value: ''});\r\n\t};\r\n\r\n\trender () {\r\n\r\n\t\tconst {placeholder, label, buttonText, name, labelClassName} = this.props;\r\n\r\n\t\treturn (\r\n\t\t\t<div className={'form-group add-on'}>\r\n\t\t\t\t<label className={labelClassName}>{label}</label>\r\n\t\t\t\t<input className=\"form-control add-on\"\r\n\t\t\t\t       type=\"text\"\r\n\t\t\t\t       placeholder={placeholder}\r\n\t\t\t\t       onChange={this.handleChange}\r\n\t\t\t\t       value={this.state.value}>\r\n\t\t\t\t</input>\r\n\r\n\t\t\t\t<button className=\"btn md btn-primary add-on-btn\"\r\n\t\t\t\t        name={name}\r\n\t\t\t\t        value={this.state.value}\r\n\t\t\t\t        onClick={this.submit}>{buttonText}\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default AddOnInput;\r\n\r\nAddOnInput.propTypes = {\r\n\tname: PropTypes.string,\r\n\tlabelClassName: PropTypes.string,\r\n\tplaceholder: PropTypes.string,\r\n\tlabel: PropTypes.string,\r\n\tbuttonText: PropTypes.string,\r\n\tonChange: PropTypes.func\r\n};","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nclass SortableList extends React.Component {\r\n\tconstructor (props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tstartX: 0,\r\n\t\t\tstartY: 0,\r\n\t\t};\r\n\r\n\t\tthis.dataContainer = React.createRef();\r\n\t}\r\n\r\n\tonDragOver = (e) => {\r\n\r\n\t\t// Enable movement\r\n\t\te.preventDefault();\r\n\t};\r\n\r\n\tonDragStart = (e, element) => {\r\n\r\n\t\t// Set the initial position of the dragged element\r\n\t\tthis.setState({\r\n\t\t\tstartX: e.clientX,\r\n\t\t\tstartY: e.clientY\r\n\t\t});\r\n\r\n\t\t// Fade out element\r\n\t\tlet elementIndex = this.props.elements.indexOf(element);\r\n\t\tthis.fadeOut(this.dataContainer.current.children[elementIndex], .1);\r\n\r\n\t\t// Save element and its index in the array\r\n\t\te.dataTransfer.setData('element', element);\r\n\t\te.dataTransfer.setData('index', this.props.elements.indexOf(element));\r\n\t};\r\n\r\n\tonDrop = (e) => {\r\n\r\n\t\t// Get image width and height\r\n\t\tlet container = this.dataContainer;\r\n\t\tlet imageWidth = container.current.children[0].clientWidth;\r\n\t\tlet imageHeight = container.current.children[0].clientHeight;\r\n\r\n\t\t// Get images on row\r\n\t\tlet imagesOnRow = Math.floor(container.current.clientWidth / imageWidth);\r\n\r\n\t\t// Get the image that we want to change\r\n\t\tlet el = e.dataTransfer.getData('element');\r\n\t\tlet imageIndex = Number(e.dataTransfer.getData('index'));\r\n\r\n\t\t// Get the image start position\r\n\t\tlet startX = this.state.startX;\r\n\t\tlet startY = this.state.startY;\r\n\r\n\t\tlet stepX = 0;\r\n\t\tlet stepY = 0;\r\n\r\n\t\t// Get movement\r\n\t\tstepX = Math.round((e.clientX - startX) / imageWidth);\r\n\t\tstepY = Math.round((e.clientY - startY) / imageHeight) * imagesOnRow;\r\n\r\n\t\t// Change image index according to the movement\r\n\t\tlet newIndex = imageIndex + stepY + stepX;\r\n\r\n\t\tif (newIndex >= container.current.children.length || newIndex === imageIndex) {\r\n\t\t\tthis.fadeIn(container.current.children[imageIndex], 1);\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\t// Fade out new position\r\n\t\tthis.fadeOut(container.current.children[newIndex], .3);\r\n\r\n\t\t// Remove image from the array and then place it in the new index position\r\n\t\tlet reorderedElements = this.props.elements.filter(e => e !== el);\r\n\t\treorderedElements.splice(newIndex, 0, el);\r\n\r\n\t\t// Save new arrangement\r\n\t\tthis.props.onChange(this.props.name, reorderedElements);\r\n\r\n\t\t// Fade in changed elements\r\n\t\tsetTimeout(() => {\r\n\t\t\tthis.fadeIn(container.current.children[newIndex], 1);\r\n\t\t\tthis.fadeIn(container.current.children[imageIndex], 1);\r\n\t\t}, 200);\r\n\t};\r\n\r\n\tfadeOut = (el, opacity) => {\r\n\t\twindow.requestAnimationFrame(function () {\r\n\t\t\tel.style.transition = 'opacity 0ms';\r\n\t\t\tel.style.opacity = opacity;\r\n\t\t});\r\n\t};\r\n\r\n\tfadeIn = (el, opacity) => {\r\n\t\twindow.requestAnimationFrame(function () {\r\n\t\t\tel.style.transition = 'opacity 1200ms';\r\n\t\t\tel.style.opacity = opacity;\r\n\t\t});\r\n\t};\r\n\r\n\trender () {\r\n\r\n\t\tlet elements = this.props.elements.map((element, index) => {\r\n\t\t\treturn (\r\n\t\t\t\t<figure key={index}\r\n\t\t\t\t        className=\"image\"\r\n\t\t\t\t        draggable\r\n\t\t\t\t        onDragStart={(e) => this.onDragStart(e, element)}>\r\n\r\n\t\t\t\t\t<img src={element} className=\"img-fit\" alt=\"\"/>\r\n\r\n\t\t\t\t\t<button className=\"btn xs btn-primary del-btn\" name='images' value={element}\r\n\t\t\t\t\t        onClick={this.props.onDelete}>clear\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</figure>);\r\n\t\t});\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"droppable container\"\r\n\t\t\t     ref={this.dataContainer}\r\n\t\t\t     onDragOver={this.onDragOver}\r\n\t\t\t     onDrop={(e) => this.onDrop(e)}>\r\n\t\t\t\t{elements}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default SortableList;\r\n\r\nSortableList.propTypes = {\r\n\telements: PropTypes.array,\r\n\tname: PropTypes.string,\r\n\tonDelete: PropTypes.func,\r\n\tonChange: PropTypes.func\r\n};","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\n// Constants\r\nimport { BUTTONS } from '../../constants/constants';\r\n\r\nclass ConfirmDialog extends React.Component {\r\n\tconstructor (props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tvisible: false,\r\n\t\t\tmessage: '',\r\n\t\t\tfunction: ''\r\n\t\t};\r\n\t}\r\n\r\n\tcomponentDidMount () {\r\n\t\tthis.props.onRef(this);\r\n\t}\r\n\r\n\tcomponentWillUnmount () {\r\n\t\tthis.props.onRef(undefined);\r\n\t}\r\n\r\n\tshowMessage = (message, callback) => {\r\n\t\tthis.setState({\r\n\t\t\tvisible: true,\r\n\t\t\tmessage: message,\r\n\t\t\tfunction: callback\r\n\t\t});\r\n\t};\r\n\r\n\tconfirm = () => {\r\n\t\tthis.state.function();\r\n\t};\r\n\r\n\thideMessage = () => {\r\n\t\tthis.setState({\r\n\t\t\tvisible: false,\r\n\t\t\tmessage: ''\r\n\t\t});\r\n\t};\r\n\r\n\trender () {\r\n\r\n\t\tlet isVisible = this.state.visible;\r\n\r\n\t\tlet language = this.props.language;\r\n\r\n\t\treturn (\r\n\t\t\t<div id=\"confirm-dialog\"\r\n\t\t\t     className={isVisible ? 'visible' : ''}\r\n\t\t\t     onClick={this.hideMessage}>\r\n\t\t\t\t<div className=\"message\">\r\n\t\t\t\t\t<p className=\"message-text\">{this.state.message}</p>\r\n\r\n\t\t\t\t\t<button className=\"btn btn-primary\" onClick={this.hideMessage}>{BUTTONS[language].cancel}</button>\r\n\t\t\t\t\t<button className=\"btn btn-danger\" onClick={this.confirm}>{BUTTONS[language].confirm}</button>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default ConfirmDialog;\r\n\r\nConfirmDialog.propTypes = {\r\n\tlanguage: PropTypes.string,\r\n};\r\n","\r\n// Constants\r\nimport { LANGUAGES } from '../constants/constants';\r\n\r\nlet months = {\r\n\t0: 'януари',\r\n\t1: 'февруари',\r\n\t2: 'март',\r\n\t3: 'април',\r\n\t4: 'май',\r\n\t5: 'юни',\r\n\t6: 'юли',\r\n\t7: 'август',\r\n\t8: 'септември',\r\n\t9: 'октомври',\r\n\t10: 'ноември',\r\n\t11: 'декември'\r\n};\r\n\r\nfunction calculatePriceAfterDiscount (price, discount) {\r\n\tprice = Number(price);\r\n\tdiscount = Number(discount);\r\n\r\n\treturn discount > 0 ? price - discount / 100 * price : price;\r\n}\r\n\r\nfunction formatDate(inputDate) {\r\n\r\n    let date = new Date(inputDate);\r\n\r\n    let years = date.getFullYear();\r\n    let months = date.getMonth() + 1;\r\n    let day = date.getDate();\r\n\r\n    return `${('0' + day).slice(-2)}.${('0' + months).slice(-2)}.${years}`;\r\n\r\n}\r\n\r\nfunction formatDateYearFirst(inputDate) {\r\n\r\n    let date = new Date(inputDate);\r\n\r\n    let years = date.getFullYear();\r\n    let months = date.getMonth() + 1;\r\n    let day = date.getDate();\r\n\r\n    return `${years}-${('0' + months).slice(-2)}-${('0' + day).slice(-2)}`;\r\n\r\n}\r\n\r\nfunction formatDateAndTime(inputDate) {\r\n\r\n    let date = new Date(inputDate);\r\n\r\n    let years = date.getFullYear();\r\n    let months = date.getMonth() + 1;\r\n    let day = date.getDate();\r\n    let hours = date.getHours();\r\n    let minutes = date.getMinutes();\r\n\r\n    return `${('0' + day).slice(-2)}.${('0' + months).slice(-2)}.${years} ${('0' + hours).slice(-2)}:${('0' + minutes).slice(-2)}`;\r\n}\r\n\r\nfunction getDay (inputDate) {\r\n\tlet date = new Date(inputDate);\r\n\tlet day = date.getDate();\r\n\treturn day;\r\n}\r\n\r\nfunction getMonth (inputDate) {\r\n\tlet date = new Date(inputDate);\r\n\tlet month = months[date.getMonth()];\r\n\r\n\treturn month;\r\n}\r\n\r\nfunction getYear (inputDate) {\r\n\tlet date = new Date(inputDate);\r\n\tlet year = date.getFullYear();\r\n\r\n\treturn year;\r\n}\r\n\r\nfunction getVideoDescription (input) {\r\n\tlet indexOfDescriptionFirstLetter = getPosition(input, ' ', 2) + 1;\r\n\r\n\treturn input.substr(indexOfDescriptionFirstLetter);\r\n}\r\n\r\nfunction getPosition(string, subString, index) {\r\n    return string.split(subString, index).join(subString).length;\r\n}\r\n\r\nfunction createStateCopy (state) {\r\n\treturn JSON.parse(JSON.stringify(state))\r\n}\r\n\r\nfunction getLanguage (component) {\r\n\r\n\tlet lang = component.props.match.params.lng;\r\n\r\n\tif (lang === LANGUAGES.en) {\r\n\t\tcomponent.setState({activeLanguage: LANGUAGES.en })\r\n\t} else {\r\n\t\tcomponent.setState({activeLanguage: LANGUAGES.bg })\r\n\t}\r\n}\r\n\r\nexport default {\r\n\tcalculatePriceAfterDiscount,\r\n    formatDate,\r\n    formatDateAndTime,\r\n    formatDateYearFirst,\r\n    getDay,\r\n\tgetMonth,\r\n\tgetYear,\r\n\tgetVideoDescription,\r\n\tcreateStateCopy,\r\n\tgetLanguage\r\n}","import React from 'react';\r\n\r\n// Partials\r\nimport FormInput from '../../../common/formComponents/FormInput';\r\nimport FormSelectField from '../../../common/formComponents/FormSelectField';\r\nimport Textarea from '../../../common/formComponents/TextArea';\r\nimport AddOnInput from '../../../common/formComponents/AddOnInput';\r\nimport SortableList from './partials/SortableList';\r\n\r\n// Services\r\nimport projectsService from '../../../../services/projects/projectsService';\r\nimport clientsService from '../../../../services/clients/clientsService';\r\nimport categoriesService from '../../../../services/categories/categoriesService';\r\n\r\n// Notifications\r\nimport Notifications from '../../../common/Notifications';\r\nimport ConfirmDialog from '../../../common/ConfirmDialog';\r\n\r\n// Utils\r\nimport Utils from '../../../../utils/utils';\r\n\r\n// Constants\r\nimport { CREATE_PROJECT_INPUTS, BUTTONS, CONFIRM_DIALOG_MESSAGES, NOTIFICATIONS, ADMIN_PAGES_TEXT} from '../../../../constants/constants';\r\n\r\nclass createProject extends React.Component {\r\n\tconstructor (props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tname: {},\r\n\t\t\tdescription: {},\r\n\t\t\tyear: '',\r\n\t\t\twebPage: '',\r\n\t\t\tisStar: false,\r\n\t\t\tclientId: '',\r\n\t\t\tcategoryIds: [],\r\n\t\t\timages: [],\r\n\t\t\tthumbnail: '',\r\n\t\t\tvideos: [],\r\n\r\n\t\t\tprojectLoaded: false,\r\n\t\t\tdataLoaded: false,\r\n\r\n\t\t\tallClients: [],\r\n\t\t\tallCategories: []\r\n\t\t};\r\n\r\n\t\tthis.imagesContainer = React.createRef();\r\n\t}\r\n\r\n\tprojectId = this.props.match.params.id;\r\n\r\n\tcomponentDidMount () {\r\n\r\n\t\tthis.loadInputsData();\r\n\r\n\t\tif (this.projectId) {\r\n\r\n\t\t\tprojectsService\r\n\t\t\t\t.loadProjectData(this.projectId)\r\n\t\t\t\t.then(res => {\r\n\r\n\t\t\t\t\tlet projectClientId = res.clientId;\r\n\r\n\t\t\t\t\tclientsService\r\n\t\t\t\t\t\t.loadClientData(projectClientId);\r\n\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tname: res.name,\r\n\t\t\t\t\t\tdescription: res.description,\r\n\t\t\t\t\t\tyear: res.year,\r\n\t\t\t\t\t\twebPage: res.webPage,\r\n\t\t\t\t\t\tisStar: res.isStar,\r\n\t\t\t\t\t\tclientId: res.clientId,\r\n\t\t\t\t\t\tcategoryIds: res.categoryIds,\r\n\t\t\t\t\t\timages: res.images,\r\n\t\t\t\t\t\tthumbnail: res.thumbnail,\r\n\t\t\t\t\t\tvideos: res.videos,\r\n\r\n\t\t\t\t\t\tprojectLoaded: true\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t\t.catch(err => console.log(err));\r\n\t\t} else {\r\n\t\t\tthis.setState({projectLoaded: true});\r\n\t\t}\r\n\t}\r\n\r\n\tloadInputsData = () => {\r\n\t\tclientsService\r\n\t\t\t.loadAllClients()\r\n\t\t\t.then(res => {\r\n\r\n\t\t\t\tthis.setState({allClients: res});\r\n\r\n\t\t\t\tcategoriesService\r\n\t\t\t\t\t.loadAllCategories()\r\n\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\tallCategories: res,\r\n\t\t\t\t\t\t\tdataLoaded: true\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(err => console.log(err));\r\n\t\t\t})\r\n\t\t\t.catch(err => console.log(err));\r\n\t};\r\n\r\n\thandleInputChange = (e) => {\r\n\t\tthis.setState({[e.target.name]: e.target.value});\r\n\t};\r\n\r\n\thandleCheckBoxChange = (e) => {\r\n\r\n\t\te.preventDefault();\r\n\r\n\t\tthis.setState({[e.target.name]: !this.state[e.target.name]})\r\n\t};\r\n\r\n\thandleMultiLangChange = (e) => {\r\n\t\tlet lang = e.target.id.split('-')[1];   // get the language\r\n\t\tlet key = e.target.name;                // get the state key\r\n\t\tlet value = e.target.value;             // get new value\r\n\r\n\t\tlet stateProp = Object.assign({}, this.state[key]);  // make state key copy\r\n\r\n\t\tstateProp[lang] = value; // add new value\r\n\r\n\t\tthis.setState({[key]: stateProp});\r\n\t};\r\n\r\n\thandleArrChange = (e) => {\r\n\r\n\t\te.preventDefault();\r\n\r\n\t\tif (this.state[e.target.name].includes(e.target.value)) {\r\n\t\t\tthis.setState({[e.target.name]: this.state[e.target.name].filter(el => el !== e.target.value)});\r\n\r\n\t\t} else {\r\n\t\t\tthis.setState({[e.target.name]: [...this.state[e.target.name], e.target.value]});\r\n\t\t}\r\n\t};\r\n\r\n\thandleNewOrder = (stateProp, reorderedElements ) => {\r\n\t\tthis.setState({[stateProp] : reorderedElements})\r\n\t};\r\n\r\n\tsaveProject = (e) => {\r\n\r\n\t\te.preventDefault();\r\n\r\n\t\tif (this.projectId) {\r\n\r\n\t\t\tprojectsService\r\n\t\t\t\t.editProject(this.projectId, Utils.createStateCopy(this.state))\r\n\t\t\t\t.then(res => {\r\n\r\n\t\t\t\t\tthis.notifications.showMessage(NOTIFICATIONS.bg.successEdit);\r\n\t\t\t\t\tsetTimeout(() => this.props.history.go(-1), 2000);\r\n\r\n\t\t\t\t})\r\n\t\t\t\t.catch(err => {\r\n\t\t\t\t\tthis.notifications.showMessage(err.responseJSON.description);\r\n\t\t\t\t});\r\n\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tprojectsService\r\n\t\t\t.createProject(Utils.createStateCopy(this.state))\r\n\t\t\t.then(res => {\r\n\r\n\t\t\t\tthis.notifications.showMessage(NOTIFICATIONS.bg.projectCreated);\r\n\t\t\t\tsetTimeout(() => this.props.history.go(-1), 2000);\r\n\r\n\t\t\t})\r\n\t\t\t.catch(err => {\r\n\t\t\t\tthis.notifications.showMessage(err.responseJSON.description);\r\n\t\t\t});\r\n\t};\r\n\r\n\tconfirmDelete = () => {\r\n\t\t// First give the massage, then the callback to be executed\r\n\t\tthis.confirmDialog.showMessage(CONFIRM_DIALOG_MESSAGES.bg.confirmDeleteProject, this.deleteProject);\r\n\t};\r\n\r\n\tdeleteProject = () => {\r\n\r\n\t\tprojectsService\r\n\t\t\t.deleteProject(this.projectId)\r\n\t\t\t.then(res => {\r\n\t\t\t\tthis.notifications.showMessage(NOTIFICATIONS.bg.projectDeleted);\r\n\t\t\t\tsetTimeout(() => this.props.history.go(-1), 2000);\r\n\t\t\t})\r\n\t\t\t.catch(err => {\r\n\t\t\t\tthis.notifications.showMessage(err.responseJSON.description);\r\n\t\t\t});\r\n\t};\r\n\r\n\tcancel = (e) => {\r\n\t\te.preventDefault();\r\n\t\tthis.props.history.go(-1);\r\n\t};\r\n\r\n\r\n\trender () {\r\n\r\n\t\tlet title = this.projectId ? ADMIN_PAGES_TEXT.project.bg.editProject : ADMIN_PAGES_TEXT.project.bg.createProject;\r\n\r\n\t\tlet buttonText = this.projectId ? BUTTONS.bg.edit : BUTTONS.bg.create;\r\n\r\n\t\t// Show loader until data is loaded\r\n\t\tif (!this.state.projectLoaded || !this.state.dataLoaded) {\r\n\t\t\treturn (<div className=\"lds-dual-ring\"/>);\r\n\t\t}\r\n\r\n\t\tlet thumbnail = this.state.thumbnail !== ''\r\n\t\t\t? (<figure className=\"image\">\r\n\t\t\t\t\t<img src={this.state.thumbnail} alt=\"project thumbnail\" className=\"img-fit\"/>\r\n\t\t\t\t</figure>\r\n\t\t\t)\r\n\t\t\t: null;\r\n\r\n\t\tlet videos = this.state.videos.map((video, index) => {\r\n\t\t\treturn (\r\n\t\t\t\t<div className=\"image\" key={index}>\r\n\t\t\t\t\t<iframe src={video} title={video}/>\r\n\t\t\t\t\t<button className=\"btn xs btn-primary del-btn\" name='videos' value={video}\r\n\t\t\t\t\t        onClick={this.handleArrChange}>clear\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t);\r\n\t\t});\r\n\r\n\t\tlet categories = this.state.allCategories.map(e => {\r\n\t\t\tlet classList = this.state.categoryIds.includes(e._id) ? 'btn category-label selected' : 'btn category-label';\r\n\t\t\treturn (\r\n\t\t\t\t<button key={e._id} className={classList} name=\"categoryIds\" value={e._id}\r\n\t\t\t\t        onClick={this.handleArrChange}>{e.name.bg}</button>\r\n\t\t\t);\r\n\t\t});\r\n\r\n\t\tlet isStar = <button className={this.state.isStar ? 'btn category-label attention' : 'btn category-label'}\r\n\t\t                     name=\"isStar\"\r\n\t\t                     value={this.state.isStar}\r\n\t\t                     onClick={this.handleCheckBoxChange}>{CREATE_PROJECT_INPUTS.bg.isStar}</button>\r\n\r\n\t\treturn (\r\n\t\t\t<div id=\"project-create\" className=\"container\">\r\n\r\n\t\t\t\t<Notifications onRef={ref => (this.notifications = ref)} language='bg'/>\r\n\t\t\t\t<ConfirmDialog onRef={ref => (this.confirmDialog = ref)} language='bg'/>\r\n\r\n\t\t\t\t<div className=\"page-header\">\r\n\t\t\t\t\t<h1 className=\"page-title\">{title}</h1>\r\n\r\n\t\t\t\t\t{this.projectId &&\r\n\t\t\t\t\t<button className=\"btn btn-danger xs\" onClick={this.confirmDelete}>{BUTTONS.bg.delete}</button>\r\n\t\t\t\t\t}\r\n\t\t\t\t</div>\r\n\r\n\r\n\t\t\t\t{/*//FORM*/}\r\n\t\t\t\t<form method=\"post\" onSubmit={this.saveProject} id=\"create-project-form\">\r\n\r\n\t\t\t\t\t<main id=\"project-info\">\r\n\r\n\t\t\t\t\t\t{/*//NAME BG*/}\r\n\t\t\t\t\t\t<FormInput type='text'\r\n\t\t\t\t\t\t           name='name'\r\n\t\t\t\t\t\t           value={this.state.name.bg}\r\n\t\t\t\t\t\t           id='name-bg'\r\n\t\t\t\t\t\t           placeholder=''\r\n\t\t\t\t\t\t           label={CREATE_PROJECT_INPUTS.bg.name}\r\n\t\t\t\t\t\t           className='name-field'\r\n\t\t\t\t\t\t           required={true}\r\n\t\t\t\t\t\t           disabled={false}\r\n\t\t\t\t\t\t           onChange={this.handleMultiLangChange}/>\r\n\r\n\t\t\t\t\t\t{/*//NAME EN*/}\r\n\t\t\t\t\t\t<FormInput type='text'\r\n\t\t\t\t\t\t           name='name'\r\n\t\t\t\t\t\t           value={this.state.name.en}\r\n\t\t\t\t\t\t           id='name-en'\r\n\t\t\t\t\t\t           placeholder=''\r\n\t\t\t\t\t\t           label={CREATE_PROJECT_INPUTS.en.name}\r\n\t\t\t\t\t\t           className='name-field'\r\n\t\t\t\t\t\t           required={true}\r\n\t\t\t\t\t\t           disabled={false}\r\n\t\t\t\t\t\t           onChange={this.handleMultiLangChange}/>\r\n\r\n\t\t\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t\t\t{categories}\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t{/*//DESCRIPTION BG*/}\r\n\t\t\t\t\t\t<Textarea name='description'\r\n\t\t\t\t\t\t          value={this.state.description.bg}\r\n\t\t\t\t\t\t          id='description-bg'\r\n\t\t\t\t\t\t          placeholder=''\r\n\t\t\t\t\t\t          label={CREATE_PROJECT_INPUTS.bg.description}\r\n\t\t\t\t\t\t          className='description-field'\r\n\t\t\t\t\t\t          required={false}\r\n\t\t\t\t\t\t          onChange={this.handleMultiLangChange}/>\r\n\r\n\t\t\t\t\t\t{/*//DESCRIPTION EN*/}\r\n\t\t\t\t\t\t<Textarea name='description'\r\n\t\t\t\t\t\t          value={this.state.description.en}\r\n\t\t\t\t\t\t          id='description-en'\r\n\t\t\t\t\t\t          placeholder=''\r\n\t\t\t\t\t\t          label={CREATE_PROJECT_INPUTS.en.description}\r\n\t\t\t\t\t\t          className='description-field'\r\n\t\t\t\t\t\t          required={false}\r\n\t\t\t\t\t\t          onChange={this.handleMultiLangChange}/>\r\n\r\n\t\t\t\t\t\t{/*//CLIENT*/}\r\n\t\t\t\t\t\t<FormSelectField name='clientId'\r\n\t\t\t\t\t\t                 label={CREATE_PROJECT_INPUTS.bg.client}\r\n\t\t\t\t\t\t                 className='client-field'\r\n\t\t\t\t\t\t                 required={false}\r\n\t\t\t\t\t\t                 disabled={false}\r\n\t\t\t\t\t\t                 selected={this.state.clientId}\r\n\t\t\t\t\t\t                 options={this.state.allClients}\r\n\t\t\t\t\t\t                 onChange={this.handleInputChange}/>\r\n\r\n\t\t\t\t\t\t{/*//YEAR*/}\r\n\t\t\t\t\t\t<FormInput type='text'\r\n\t\t\t\t\t\t           name='year'\r\n\t\t\t\t\t\t           value={this.state.year}\r\n\t\t\t\t\t\t           id='year'\r\n\t\t\t\t\t\t           placeholder=''\r\n\t\t\t\t\t\t           label={CREATE_PROJECT_INPUTS.bg.year}\r\n\t\t\t\t\t\t           className='year-field'\r\n\t\t\t\t\t\t           required={false}\r\n\t\t\t\t\t\t           disabled={false}\r\n\t\t\t\t\t\t           onChange={this.handleInputChange}/>\r\n\r\n\t\t\t\t\t\t<FormInput type='text'\r\n\t\t\t\t\t\t           name='webPage'\r\n\t\t\t\t\t\t           value={this.state.webPage}\r\n\t\t\t\t\t\t           id='web-page'\r\n\t\t\t\t\t\t           placeholder=''\r\n\t\t\t\t\t\t           label={CREATE_PROJECT_INPUTS.bg.webPage}\r\n\t\t\t\t\t\t           className=''\r\n\t\t\t\t\t\t           required={false}\r\n\t\t\t\t\t\t           disabled={false}\r\n\t\t\t\t\t\t           onChange={this.handleInputChange}/>\r\n\r\n\t\t\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t\t\t{isStar}\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t</main>\r\n\r\n\r\n\t\t\t\t\t{/*//PROJECT IMAGES & VIDEOS*/}\r\n\t\t\t\t\t<aside id=\"project-data\">\r\n\r\n\r\n\t\t\t\t\t\t<div className=\"project-data\">\r\n\r\n\t\t\t\t\t\t\t<h3 className=\"section-title\">{ADMIN_PAGES_TEXT.project.bg.thumbnail}</h3>\r\n\t\t\t\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t\t\t\t{thumbnail}\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<AddOnInput\r\n\t\t\t\t\t\t\t\tname=\"thumbnail\"\r\n\t\t\t\t\t\t\t\t// label={CREATE_PROJECT_INPUTS.bg.thumbnail}\r\n\t\t\t\t\t\t\t\tlabelClassName=\"no-label\"\r\n\t\t\t\t\t\t\t\tbuttonText='+'\r\n\t\t\t\t\t\t\t\tplaceholder='Thumbnail'\r\n\t\t\t\t\t\t\t\tonChange={this.handleInputChange}/>\r\n\t\t\t\t\t\t</div>\r\n\r\n\r\n\t\t\t\t\t\t<div className=\"project-data\">\r\n\t\t\t\t\t\t\t<h3 className=\"section-title\">{ADMIN_PAGES_TEXT.project.bg.images}</h3>\r\n\t\t\t\t\t\t\t<SortableList elements={this.state.images}\r\n\t\t\t\t\t\t\t              name=\"images\"\r\n\t\t\t\t\t\t\t              onDelete={this.handleArrChange}\r\n\t\t\t\t\t\t\t              onChange={this.handleNewOrder}/>\r\n\r\n\t\t\t\t\t\t\t<AddOnInput\r\n\t\t\t\t\t\t\t\tname='images'\r\n\t\t\t\t\t\t\t\t// label={CREATE_PROJECT_INPUTS.bg.images}\r\n\t\t\t\t\t\t\t\tlabelClassName='no-label'\r\n\t\t\t\t\t\t\t\tbuttonText='+'\r\n\t\t\t\t\t\t\t\tplaceholder='Добави снимка'\r\n\t\t\t\t\t\t\t\tonChange={this.handleArrChange}/>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div className='project-data'>\r\n\t\t\t\t\t\t\t<h3 className='section-title'>{ADMIN_PAGES_TEXT.project.bg.videos}</h3>\r\n\t\t\t\t\t\t\t<div className='container'>\r\n\t\t\t\t\t\t\t\t{videos}\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<AddOnInput\r\n\t\t\t\t\t\t\t\tname=\"videos\"\r\n\t\t\t\t\t\t\t\t// label={CREATE_PROJECT_INPUTS.bg.videos}\r\n\t\t\t\t\t\t\t\tlabelClassName=\"no-label\"\r\n\t\t\t\t\t\t\t\tbuttonText='+'\r\n\t\t\t\t\t\t\t\tplaceholder='Добави видео'\r\n\t\t\t\t\t\t\t\tonChange={this.handleArrChange}/>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t</aside>\r\n\r\n\r\n\t\t\t\t\t{/*//SUBMIT*/}\r\n\t\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t\t<button className=\"btn btn-default\" onClick={this.cancel}>{BUTTONS.bg.cancel}</button>\r\n\t\t\t\t\t\t<button className=\"btn btn-primary\" type=\"submit\">{buttonText}</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</form>\r\n\r\n\t\t\t</div>\r\n\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default createProject;\r\n\r\n","import React from 'react';\r\nimport {Link} from 'react-router-dom';\r\n\r\n// Constants\r\nimport { BUTTONS } from '../../../../../constants/constants';\r\n\r\n\r\nclass ProjectCard extends React.Component {\r\n\tconstructor (props) {\r\n\t\tsuper(props);\r\n\t}\r\n\r\n\r\n\trender () {\r\n\r\n\t\tlet project = this.props.project;\r\n\r\n\t\treturn (\r\n\t\t\t<article className=\"project-card\">\r\n\t\t\t\t<figure className=\"img-container\">\r\n\t\t\t\t\t<img className=\"img-fit\" src={project.thumbnail}/>\r\n\t\t\t\t</figure>\r\n\t\t\t\t<p className=\"project-name\">{project.name.bg}</p>\r\n\r\n\t\t\t\t<Link to={'project-edit/' + project._id} className=\"hover\">\r\n\t\t\t\t\t<div className=\"edit-btn\">\r\n\t\t\t\t\t\t<i className=\"fa fa-edit\" aria-hidden=\"true\"/>{BUTTONS.bg.edit}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Link>\r\n\t\t\t</article>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default ProjectCard;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\n// Partials\r\nimport ProjectCard from './partials/ProjectCard';\r\n\r\n// Services\r\nimport projectsService from '../../../../services/projects/projectsService';\r\n\r\n// Notifications\r\nimport Notifications from '../../../common/Notifications';\r\n\r\n// Constants\r\nimport { BUTTONS, ADMIN_PAGES_TEXT } from '../../../../constants/constants';\r\n\r\nclass projectsList extends React.Component {\r\n\tconstructor (props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tprojects: [],\r\n\r\n\t\t\tloading: true\r\n\t\t};\r\n\t}\r\n\r\n\tcomponentDidMount () {\r\n\r\n\t\tif (sessionStorage.length === 0) {\r\n\t\t\tthis.props.history.push('/')\r\n\t\t}\r\n\r\n\t\tprojectsService\r\n\t\t\t.loadAllProjects()\r\n\t\t\t.then(res => {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tprojects: res,\r\n\t\t\t\t\tloading: false\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch(err => console.log(err));\r\n\r\n\t}\r\n\r\n\trender () {\r\n\r\n\t\tif (this.state.loading) {\r\n\t\t\treturn (<div className=\"lds-dual-ring\"/> );\r\n\t\t}\r\n\r\n\t\tlet projects = this.state.projects.map(e => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<ProjectCard key={e._id} project={e}/>\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t);\r\n\r\n\t\treturn (\r\n\t\t\t<div id=\"admin-projects-list\" className=\"container\">\r\n\r\n\t\t\t\t<Notifications onRef={ref => (this.notifications = ref)} language='bg'/>\r\n\r\n\t\t\t\t<div className=\"page-header\">\r\n\t\t\t\t\t<h1 className=\"page-title\">{ADMIN_PAGES_TEXT.project.bg.allProjects}</h1>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"buttons-container\">\r\n\t\t\t\t\t<Link to=\"/admin/project-create\" className=\"btn btn-primary sm\">{BUTTONS.bg.newProject}</Link>\r\n\t\t\t\t\t<Link to=\"/admin/client-create\" className=\"btn btn-primary sm\">{BUTTONS.bg.newClient}</Link>\r\n\t\t\t\t\t<Link to=\"/admin/category-create\" className=\"btn btn-primary sm\">{BUTTONS.bg.newCategory}</Link>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"projects-container\">\r\n\t\t\t\t\t{projects}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default projectsList;\r\n\r\n","import React from 'react';\r\n\r\n// Partials\r\nimport FormInput from '../../common/formComponents/FormInput';\r\n\r\n// Services\r\nimport categoriesService from '../../../services/categories/categoriesService';\r\n\r\n// Notifications\r\nimport Notifications from '../../common/Notifications';\r\nimport ConfirmDialog from '../../common/ConfirmDialog';\r\n\r\n// Utils\r\nimport Utils from '../../../utils/utils';\r\n\r\n// Constants\r\nimport { CATEGORY_INPUTS, BUTTONS, NOTIFICATIONS, ADMIN_PAGES_TEXT } from '../../../constants/constants';\r\n\r\nclass createEditCategory extends React.Component {\r\n\tconstructor (props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tname: {},\r\n\t\t\tloading: true\r\n\t\t};\r\n\t}\r\n\r\n\tcategoryId = this.props.match.params.id;\r\n\r\n\tcomponentDidMount () {\r\n\r\n\t\tif (this.categoryId) {\r\n\r\n\t\t\tcategoriesService\r\n\t\t\t\t.loadCategoryData(this.categoryId)\r\n\t\t\t\t.then(res => {\r\n\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tname: res.name,\r\n\t\t\t\t\t\tloading: false\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t\t.catch(err => console.log(err));\r\n\t\t} else {\r\n\t\t\tthis.setState({loading: false});\r\n\t\t}\r\n\t}\r\n\r\n\r\n\thandleMultiLangChange = (e) => {\r\n\t\tlet lang = e.target.id.split('-')[1];   // get the language\r\n\t\tlet key = e.target.name;                // get the state key\r\n\t\tlet value = e.target.value;             // get new value\r\n\r\n\t\tlet stateProp = Object.assign({}, this.state[key]);  // make state key copy\r\n\r\n\t\tstateProp[lang] = value; // add new value\r\n\r\n\t\tthis.setState({[key]: stateProp});\r\n\t};\r\n\r\n\tclearData = () => {\r\n\t\tthis.setState({\r\n\t\t\tname: {bg: '', en: ''},\r\n\t\t});\r\n\t};\r\n\r\n\tsaveCategory = (e) => {\r\n\r\n\t\te.preventDefault();\r\n\r\n\t\t// Edit category\r\n\t\tif (this.categoryId) {\r\n\r\n\t\t\tcategoriesService\r\n\t\t\t\t.editCategory(this.categoryId, Utils.createStateCopy(this.state))\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\tthis.notifications.showMessage(NOTIFICATIONS.bg.successEdit);\r\n\t\t\t\t\tsetTimeout(() => this.props.history.go(-1), 2000);\r\n\t\t\t\t})\r\n\t\t\t\t.catch(err => {\r\n\t\t\t\t\tthis.notifications.showMessage(err.responseJSON.description);\r\n\t\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\r\n\t\t// Create Category\r\n\t\tcategoriesService\r\n\t\t\t.createCategory(Utils.createStateCopy(this.state))\r\n\t\t\t.then(res => {\r\n\t\t\t\tthis.notifications.showMessage(NOTIFICATIONS.bg.categoryCreated);\r\n\t\t\t\tthis.clearData();\r\n\t\t\t\tsetTimeout(() => this.props.history.go(-1), 2000);\r\n\t\t\t})\r\n\t\t\t.catch(err => {\r\n\t\t\t\tthis.notifications.showMessage(err.responseJSON.description);\r\n\t\t\t});\r\n\t};\r\n\r\n\tconfirm = () => {\r\n\t\tthis.confirmDialog.showMessage('test', this.deleteCategory);\r\n\t};\r\n\r\n\tdeleteCategory = () => {\r\n\t\tconsole.log('from delete');\r\n\t\t// Delete from all projects categories list\r\n\t};\r\n\r\n\tcancel = (e) => {\r\n\t\te.preventDefault();\r\n\t\tthis.props.history.go(-1);\r\n\t};\r\n\r\n\trender () {\r\n\r\n\r\n\t\tlet title = this.categoryId ? ADMIN_PAGES_TEXT.category.bg.editCategory : ADMIN_PAGES_TEXT.category.bg.newCategory;\r\n\r\n\t\tlet buttonText = this.categoryId ? BUTTONS.bg.edit : BUTTONS.bg.create;\r\n\r\n\t\tif (this.state.loading) {\r\n\t\t\treturn (<div className=\"lds-dual-ring\"/>);\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div id=\"project-create\" className=\"container\">\r\n\r\n\t\t\t\t<Notifications onRef={ref => (this.notifications = ref)} language='bg'/>\r\n\t\t\t\t<ConfirmDialog onRef={ref => (this.confirmDialog = ref)} language='bg'/>\r\n\r\n\t\t\t\t<div className=\"page-header\">\r\n\t\t\t\t\t<h1 className=\"page-title\">{title}</h1>\r\n\r\n\t\t\t\t\t{this.categoryId &&\r\n\t\t\t\t\t<button className=\"btn btn-danger xs\" onClick={this.confirm}>{BUTTONS.bg.delete}</button>\r\n\t\t\t\t\t}\r\n\t\t\t\t</div>\r\n\r\n\r\n\t\t\t\t{/*//FORM*/}\r\n\t\t\t\t<form method=\"post\" onSubmit={this.saveCategory} id=\"create-category-form\">\r\n\r\n\r\n\t\t\t\t\t\t{/*//NAME BG*/}\r\n\t\t\t\t\t\t<FormInput type='text'\r\n\t\t\t\t\t\t           name='name'\r\n\t\t\t\t\t\t           value={this.state.name.bg}\r\n\t\t\t\t\t\t           id='name-bg'\r\n\t\t\t\t\t\t           placeholder=''\r\n\t\t\t\t\t\t           label={CATEGORY_INPUTS.bg.name}\r\n\t\t\t\t\t\t           className='name-field'\r\n\t\t\t\t\t\t           required={true}\r\n\t\t\t\t\t\t           disabled={false}\r\n\t\t\t\t\t\t           onChange={this.handleMultiLangChange}/>\r\n\r\n\t\t\t\t\t\t{/*//NAME EN*/}\r\n\t\t\t\t\t\t<FormInput type='text'\r\n\t\t\t\t\t\t           name='name'\r\n\t\t\t\t\t\t           value={this.state.name.en}\r\n\t\t\t\t\t\t           id='name-en'\r\n\t\t\t\t\t\t           placeholder=''\r\n\t\t\t\t\t\t           label={CATEGORY_INPUTS.en.name}\r\n\t\t\t\t\t\t           className='name-field'\r\n\t\t\t\t\t\t           required={true}\r\n\t\t\t\t\t\t           disabled={false}\r\n\t\t\t\t\t\t           onChange={this.handleMultiLangChange}/>\r\n\r\n\t\t\t\t\t{/*//SUBMIT*/}\r\n\t\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t\t<button className=\"btn btn-default\" onClick={this.cancel}>{BUTTONS.bg.cancel}</button>\r\n\t\t\t\t\t\t<button className=\"btn btn-primary\" type=\"submit\">{buttonText}</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default createEditCategory;\r\n\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\n// Services\r\nimport categoriesService from '../../../services/categories/categoriesService';\r\n\r\n// Notifications\r\nimport Notifications from '../../common/Notifications';\r\n\r\nclass categoriesList extends React.Component {\r\n\tconstructor (props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tcategories: [],\r\n\r\n\t\t\tloading: true\r\n\t\t};\r\n\t}\r\n\r\n\tcomponentDidMount () {\r\n\r\n\t\tcategoriesService\r\n\t\t\t.loadAllCategories()\r\n\t\t\t.then(res => {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tcategories: res,\r\n\t\t\t\t\tloading: false\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch(err => console.log(err));\r\n\r\n\t}\r\n\r\n\trender () {\r\n\r\n\t\tlet categories;\r\n\r\n\t\tif (this.state.categories.length > 0) {\r\n\t\t\tcategories = this.state.categories.map(e => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<Link key={e._id} to={'/admin/category-edit/' + e._id}>\r\n\t\t\t\t\t\t<span className=\"category-label\">\r\n\t\t\t\t\t\t\t{e.name.bg}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tif (this.state.projectLoading) {\r\n\t\t\treturn (<div className=\"lds-dual-ring\"/> );\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div id=\"admin-categories-list\" className=\"container\">\r\n\r\n\t\t\t\t<Notifications onRef={ref => (this.notifications = ref)} language='bg'/>\r\n\r\n\t\t\t\t<div className=\"page-header\">\r\n\t\t\t\t\t<h1 className=\"page-title\">Категории</h1>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"categories-container\">\r\n\t\t\t\t\t{categories}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default categoriesList;\r\n\r\n","import React from 'react';\r\n\r\n// Partials\r\nimport FormInput from '../../common/formComponents/FormInput';\r\n\r\n// Services\r\nimport clientsService from '../../../services/clients/clientsService';\r\n\r\n// Notifications\r\nimport Notifications from '../../common/Notifications';\r\nimport ConfirmDialog from '../../common/ConfirmDialog';\r\n\r\n// Utils\r\nimport Utils from '../../../utils/utils';\r\n\r\n// Constants\r\nimport { CLIENT_INPUTS, BUTTONS, NOTIFICATIONS, ADMIN_PAGES_TEXT } from '../../../constants/constants';\r\n\r\nclass createEditCategory extends React.Component {\r\n\tconstructor (props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tname: {},\r\n\r\n\t\t\tloading: true\r\n\t\t};\r\n\t}\r\n\r\n\tclientId = this.props.match.params.id;\r\n\r\n\tcomponentDidMount () {\r\n\r\n\t\tif (this.clientId) {\r\n\r\n\t\t\tclientsService\r\n\t\t\t\t.loadClientData(this.clientId)\r\n\t\t\t\t.then(res => {\r\n\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tname: res.name,\r\n\r\n\t\t\t\t\t\tloading: false\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t\t.catch(err => console.log(err));\r\n\t\t} else {\r\n\t\t\tthis.setState({loading: false});\r\n\t\t}\r\n\t}\r\n\r\n\r\n\thandleMultiLangChange = (e) => {\r\n\t\tlet lang = e.target.id.split('-')[1];   // get the language\r\n\t\tlet key = e.target.name;                // get the state key\r\n\t\tlet value = e.target.value;             // get new value\r\n\r\n\t\tlet stateProp = Object.assign({}, this.state[key]);  // make state key copy\r\n\r\n\t\tstateProp[lang] = value; // add new value\r\n\r\n\t\tthis.setState({[key]: stateProp});\r\n\t};\r\n\r\n\tclearData = () => {\r\n\t\tthis.setState({\r\n\t\t\tname: {bg: '', en: ''},\r\n\t\t});\r\n\t};\r\n\r\n\tsaveClient = (e) => {\r\n\r\n\t\te.preventDefault();\r\n\r\n\t\tif (this.clientId) {\r\n\r\n\t\t\tclientsService\r\n\t\t\t\t.editClient(this.clientId, Utils.createStateCopy(this.state))\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\tthis.notifications.showMessage(NOTIFICATIONS.bg.successEdit);\r\n\t\t\t\t\tsetTimeout(() => this.props.history.go(-1), 2000);\r\n\t\t\t\t})\r\n\t\t\t\t.catch(err => {\r\n\t\t\t\t\tthis.notifications.showMessage(err.responseJSON.description);\r\n\t\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tclientsService\r\n\t\t\t.createClient(Utils.createStateCopy(this.state))\r\n\t\t\t.then(res => {\r\n\t\t\t\tthis.notifications.showMessage(NOTIFICATIONS.bg.clientCreated);\r\n\t\t\t\tthis.clearData();\r\n\t\t\t\tsetTimeout(() => this.props.history.go(-1), 2000);\r\n\t\t\t})\r\n\t\t\t.catch(err => {\r\n\t\t\t\tthis.notifications.showMessage(err.responseJSON.description);\r\n\t\t\t});\r\n\t};\r\n\r\n\tconfirm = () => {\r\n\t\tthis.confirmDialog.showMessage('test', this.deleteClient);\r\n\t};\r\n\r\n\tdeleteClient = () => {\r\n\t\tconsole.log('from delete');\r\n\t};\r\n\r\n\tcancel = (e) => {\r\n\t\te.preventDefault();\r\n\t\tthis.props.history.go(-1);\r\n\t};\r\n\r\n\trender () {\r\n\r\n\r\n\t\tlet title = this.clientId ? ADMIN_PAGES_TEXT.client.bg.editClient : ADMIN_PAGES_TEXT.client.bg.newClient;\r\n\r\n\t\tlet buttonText = this.clientId ? BUTTONS.bg.edit : BUTTONS.bg.create;\r\n\r\n\t\tif (this.state.loading) {\r\n\t\t\treturn (<div className=\"lds-dual-ring\"/>);\r\n\t\t}\r\n\r\n\r\n\r\n\t\treturn (\r\n\t\t\t<div id=\"project-create\" className=\"container\">\r\n\r\n\t\t\t\t<Notifications onRef={ref => (this.notifications = ref)} language='bg'/>\r\n\t\t\t\t<ConfirmDialog onRef={ref => (this.confirmDialog = ref)} language='bg'/>\r\n\r\n\t\t\t\t<div className=\"page-header\">\r\n\t\t\t\t\t<h1 className=\"page-title\">{title}</h1>\r\n\r\n\t\t\t\t\t{this.clientId &&\r\n\t\t\t\t\t<button className=\"btn btn-danger xs\" onClick={this.confirm}>{BUTTONS.bg.delete}</button>\r\n\t\t\t\t\t}\r\n\t\t\t\t</div>\r\n\r\n\r\n\t\t\t\t{/*//FORM*/}\r\n\t\t\t\t<form method=\"post\" onSubmit={this.saveClient} id=\"create-category-form\">\r\n\r\n\r\n\t\t\t\t\t\t{/*//NAME BG*/}\r\n\t\t\t\t\t\t<FormInput type='text'\r\n\t\t\t\t\t\t           name='name'\r\n\t\t\t\t\t\t           value={this.state.name.bg}\r\n\t\t\t\t\t\t           id='name-bg'\r\n\t\t\t\t\t\t           placeholder=''\r\n\t\t\t\t\t\t           label={CLIENT_INPUTS.bg.name}\r\n\t\t\t\t\t\t           className='name-field'\r\n\t\t\t\t\t\t           required={true}\r\n\t\t\t\t\t\t           disabled={false}\r\n\t\t\t\t\t\t           onChange={this.handleMultiLangChange}/>\r\n\r\n\t\t\t\t\t\t{/*//NAME EN*/}\r\n\t\t\t\t\t\t<FormInput type='text'\r\n\t\t\t\t\t\t           name='name'\r\n\t\t\t\t\t\t           value={this.state.name.en}\r\n\t\t\t\t\t\t           id='name-en'\r\n\t\t\t\t\t\t           placeholder=''\r\n\t\t\t\t\t\t           label={CLIENT_INPUTS.en.name}\r\n\t\t\t\t\t\t           className='name-field'\r\n\t\t\t\t\t\t           required={true}\r\n\t\t\t\t\t\t           disabled={false}\r\n\t\t\t\t\t\t           onChange={this.handleMultiLangChange}/>\r\n\r\n\r\n\t\t\t\t\t{/*//SUBMIT*/}\r\n\t\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t\t<button className=\"btn btn-default\" onClick={this.cancel}>{BUTTONS.bg.cancel}</button>\r\n\t\t\t\t\t\t<button className=\"btn btn-primary\" type=\"submit\">{buttonText}</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default createEditCategory;\r\n\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\n// Services\r\nimport clientsService from '../../../services/clients/clientsService';\r\n\r\n// Notifications\r\nimport Notifications from '../../common/Notifications';\r\n\r\n\r\nclass categoriesList extends React.Component {\r\n\tconstructor (props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tclients: [],\r\n\r\n\t\t\tloading: true\r\n\t\t};\r\n\t}\r\n\r\n\tcomponentDidMount () {\r\n\r\n\t\tclientsService\r\n\t\t\t.loadAllClients()\r\n\t\t\t.then(res => {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tclients: res,\r\n\t\t\t\t\tloading: false\r\n\t\t\t\t});\r\n\t\t\t})\r\n\t\t\t.catch(err => console.log(err));\r\n\r\n\t}\r\n\r\n\trender () {\r\n\r\n\t\tlet clients;\r\n\r\n\t\tif (this.state.clients.length > 0) {\r\n\t\t\tclients = this.state.clients.map(e => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<Link key={e._id} to={'/admin/client-edit/' + e._id}>\r\n\t\t\t\t\t\t<span  className=\"category-label\">\r\n\t\t\t\t\t\t\t{e.name.bg}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tif (this.state.projectLoading) {\r\n\t\t\treturn (<div className=\"lds-dual-ring\"/> );\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<div id=\"admin-clients-list\" className=\"container\">\r\n\r\n\t\t\t\t<Notifications onRef={ref => (this.notifications = ref)} language='bg'/>\r\n\r\n\t\t\t\t<div className=\"page-header\">\r\n\t\t\t\t\t<h1 className=\"page-title\">Клиенти</h1>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"clients-container\">\r\n\t\t\t\t\t{clients}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default categoriesList;\r\n\r\n","import React from 'react';\r\n\r\nclass NotFound extends React.Component {\r\n\r\n\trender () {\r\n\t\treturn (\r\n\t\t\t<div className=\"container\">\r\n\t\t\t\t<h1>Error 404. Not found.</h1>\r\n\t\t\t\t<p>This page doesn't exist.</p>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default NotFound;\r\n","import React from 'react';\r\nimport { Switch, Route } from 'react-router-dom';\r\n\r\n// Private route\r\nimport PrivateRoute from './PrivateRoute';\r\n\r\n// Components\r\nimport Login from '../auth/Login';\r\nimport Home from '../user/home/Home';\r\nimport ProjectsList from '../user/projects/ProjectsList';\r\nimport Project from '../user/projects/Project';\r\n\r\n// Admin Components\r\nimport createProject from '../admin/projects/createEditProject/createEditProject';\r\nimport adminProjectsList from '../admin/projects/projectsList/projectsList';\r\n\r\nimport createEditCategory from '../admin/categories/createEditCategory';\r\nimport categoriesList from '../admin/categories/categoriesList';\r\n\r\nimport createEditClient from '../admin/clients/createEditClient';\r\nimport clientsList from '../admin/clients/clientsList';\r\n\r\n// ERRORS and CONFIRMATIONS\r\nimport NotFound from '../errors/NotFound';\r\n\r\nlet Routes = () => {\r\n\r\n\treturn (\r\n\t\t<Switch>\r\n\r\n\t\t\t{/*//User*/}\r\n\t\t\t<Route exact path='/:lng(en)?' component={Home}/>\r\n\r\n\t\t\t<Route path='/:lng(en)?/login' component={Login}/>\r\n\r\n\t\t\t<Route exact path='/:lng(en)?/projects' component={ProjectsList}/>\r\n\r\n\t\t\t<Route exact path='/:lng(en)?/projects/:category' component={ProjectsList}/>\r\n\r\n\t\t\t<Route exact path='/:lng(en)?/projects/:category/:id' component={Project}/>\r\n\r\n\r\n\t\t\t{/*//Admin*/}\r\n\t\t\t<Route\r\n\t\t\t\tpath=\"/admin\"\r\n\t\t\t\trender={({ match: { url } }) => (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t<Route exact path={`${url}/projects-list`} component={adminProjectsList} />\r\n\t\t\t\t\t<Route path={`${url}/project-create`} component={createProject} />\r\n\t\t\t\t\t<Route path={`${url}/project-edit/:id`} component={createProject} />\r\n\r\n\t\t\t\t\t<Route exact path={`${url}/category-list`} component={categoriesList} />\r\n\t\t\t\t\t<Route path={`${url}/category-create`} component={createEditCategory} />\r\n\t\t\t\t\t<Route path={`${url}/category-edit/:id`} component={createEditCategory} />\r\n\r\n\t\t\t\t\t<Route exact path={`${url}/clients-list`} component={clientsList} />\r\n\t\t\t\t\t<Route path={`${url}/client-create`} component={createEditClient} />\r\n\t\t\t\t\t<Route path={`${url}/client-edit/:id`} component={createEditClient} />\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\t\t\t/>\r\n\r\n\t\t\t<Route path='*' component={NotFound}/>\r\n\t\t</Switch>\r\n\t);\r\n};\r\n\r\nexport default Routes;","import React from 'react';\n\nimport './css/main.css';\nimport './css/animations.css';\n\nimport Header from './components/common/Header';\nimport Footer from './components/common/Footer';\nimport Routes from './components/routes/Routes';\n\nimport { LanguageContext, languages } from './components/common/languagesContext/LanguageContext';\n\nclass App extends React.Component {\n\n\tconstructor (props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tlanguage: languages.bg\n\t\t};\n\t}\n\n\tupdateLanguage = (language) => {\n\t\tthis.setState({language: language});\n\t};\n\n\trender () {\n\n\t\tlet isHomePage = window.location.pathname === '/';\n\n\t\treturn (\n\n\t\t\t<LanguageContext.Provider value={{language: this.state.language, updateLanguage: this.updateLanguage}}>\n\n\t\t\t\t{!isHomePage && <Header/> }\n\n\t\t\t\t<main>\n\t\t\t\t\t<Routes/>\n\t\t\t\t</main>\n\n\t\t\t\t<Footer/>\n\t\t\t</LanguageContext.Provider>\n\n\t\t);\n\t}\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\n\nimport * as serviceWorker from './serviceWorker';\n\nimport App from './App';\n\n\nReactDOM.render(\n\t<BrowserRouter>\n\t\t<App />\n\t</BrowserRouter>,\n\tdocument.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}